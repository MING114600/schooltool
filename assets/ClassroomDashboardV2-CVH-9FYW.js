import{c as $,L as $t,a as Et,B as K,M as ue,U as Mt,r as x,R as V,j as e,T as he,G as St,b as r,C as be,d as we,P as me,D as Ct,e as _t,f as Dt,X as Z,g as Te,h as Rt,S as Ne,I as We,i as At,u as zt,k as Ft,l as U,m as Oe}from"./index-FQBKIusJ.js";import{C as Ke,a as Ot,V as Lt,M as $e,b as It,A as Bt}from"./volume-x-DBIkYyAc.js";import{Z as D,u as Ee}from"./ZhuyinRenderer-DZI8iNML.js";import{C as Ut,M as X,B as pe,E as Me,S as Xt,Z as Ze,T as Pt,a as Yt,L as Ht}from"./SoundBoard-07BFhUNf.js";import{S as Qe,M as qt}from"./timer-C1Lo72OE.js";import{P as Se,V as ge,a as Gt}from"./volume-2-DF--ebQ2.js";import{S as Je,P as Vt,B as et}from"./save-CF8G8tc3.js";import{C as Wt}from"./circle-CnDreqzH.js";const Kt=[["path",{d:"m11 7-3 5h4l-3 5",key:"b4a64w"}],["path",{d:"M14.856 6H16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.935",key:"lre1cr"}],["path",{d:"M22 14v-4",key:"14q9d5"}],["path",{d:"M5.14 18H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.936",key:"13q5k0"}]],Zt=$("battery-charging",Kt);const Qt=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],Jt=$("battery",Qt);const es=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 17H7",key:"pygtm1"}],["path",{d:"M17 21H9",key:"1u2q02"}]],ts=$("cloud-fog",es);const ss=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],as=$("cloud-lightning",ss);const ls=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],Le=$("cloud-rain",ls);const rs=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],ns=$("cloud-sun",rs);const os=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],is=$("cloud",os);const ds=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],cs=$("droplet",ds);const xs=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],Ie=$("flask-conical",xs);const ms=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],tt=$("heart",ms);const us=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],st=$("house",us);const hs=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],bs=$("library",hs);const ps=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ce=$("map-pin",ps);const gs=[["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M17 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 1.184-1.826",key:"cv7jms"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M8.656 3H20a2 2 0 0 1 2 2v10a2 2 0 0 1-.293 1.042",key:"z8ni2w"}]],fs=$("monitor-off",gs);const js=[["path",{d:"M15.033 9.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56V7.648a.645.645 0 0 1 .967-.56z",key:"vbtd3f"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],Be=$("monitor-play",js);const vs=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],ks=$("mouse-pointer-2",vs);const ys=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}]],Ns=$("panel-top",ys);const ws=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ts=$("refresh-cw",ws);const $s=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],Es=$("sliders-vertical",$s);const Ms=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],Ss=$("snowflake",Ms);const Cs=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],se=$("star",Cs);const _s=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M20 12h.01",key:"1ykeid"}],["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M4 12h.01",key:"158zrr"}],["path",{d:"M17.657 6.343h.01",key:"31pqzk"}],["path",{d:"M17.657 17.657h.01",key:"jehnf4"}],["path",{d:"M6.343 17.657h.01",key:"gdk6ow"}],["path",{d:"M6.343 6.343h.01",key:"1uurf0"}]],Ds=$("sun-dim",_s);const Rs=[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]],As=$("tent",Rs);const zs=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Fs=$("toggle-left",zs);const Os=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],Ls=$("trees",Os);const Is=[["path",{d:"M12 13v7a2 2 0 0 0 4 0",key:"rpgb42"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M20.992 13a1 1 0 0 0 .97-1.274 10.284 10.284 0 0 0-19.923 0A1 1 0 0 0 3 13z",key:"124nyo"}]],Bs=$("umbrella",Is);const Us=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Xs=$("utensils",Us);const Ps=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],Ys=$("waves",Ps),Ue={1:{p1:"åœ‹èªž",p2:"æ•¸å­¸",p3:"è‡ªç„¶",p4:"è‡ªç„¶",p5:"æœ‰å“éº—å±±å¹¸ç¦æ‚…è®€",p6:"è‹±èªž",p7:"é«”è‚²"},2:{p1:"ç¶œåˆ",p2:"ç¶œåˆ",p3:"STEAMæ‰‹å‰µé¤¨",p4:"è‹±èªž",p5:"åœ‹èªž",p6:"æ•¸å­¸",p7:"éŸ³æ¨‚"},3:{p1:"åœ‹èªž",p2:"æ•¸å­¸",p3:"ç¤¾æœƒ",p4:"ç¤¾æœƒ",p5:"",p6:"",p7:""},4:{p1:"è‡ªç„¶",p2:"åœ‹èªž",p3:"æ•¸å­¸",p4:"æœ¬åœŸèªž",p5:"è¦–è¦ºè—è¡“",p6:"è¦–è¦ºè—è¡“",p7:"é«”è‚²"},5:{p1:"Reading Fun",p2:"åœ‹èªž",p3:"ç†è²¡æ‚ éŠè¶£",p4:"ç¤¾æœƒ",p5:"ç¶œåˆ",p6:"æœ‰å“éº—å±±å¹¸ç¦æ‚…è®€",p7:"å¥åº·"}},Xe={1:"full",2:"full",3:"half",4:"full",5:"full",6:"full",0:"full"},Pe={æ™¨å…‰æ™‚é–“:"æŠ„å¯«è¯çµ¡ç°¿ä»¥åŠæº–å‚™äº¤ä½œæ¥­",å…¨å¤©æ‰“æŽƒ:"è«‹æ‹¿èµ·æŽƒå…·ï¼ŒèªçœŸæ‰“æŽƒç’°å¢ƒï¼Œä¿æŒæ•´æ½”",æ‰“æŽƒæ™‚é–“:"è«‹æ‹¿èµ·æŽƒå…·ï¼ŒèªçœŸæ‰“æŽƒç’°å¢ƒï¼Œä¿æŒæ•´æ½”",æº–å‚™åˆé¤:"è«‹æ´—æ‰‹ï¼Œæ‹¿å‡ºé¤å…·ï¼Œæº–å‚™ç”¨é¤",åˆé¤æ™‚é–“:"è«‹ç´°åš¼æ…¢åš¥ï¼Œä¿æŒæ¡Œé¢æ•´æ½”ï¼Œå®‰éœç”¨é¤",åˆä¼‘æ™‚é–“:"è«‹è¶´ä¸‹ä¼‘æ¯ï¼Œä¿æŒå®‰éœï¼Œä¸éš¨æ„èµ°å‹•",æº–å‚™ä¸Šèª²:"åˆä¼‘çµæŸï¼Œè«‹èµ·åºŠæ´—è‡‰ï¼Œæº–å‚™ä¸Šèª²",æ™¨é–“é–±è®€:"è«‹å®‰éœé–±è®€ï¼Œäº«å—æ›¸æœ¬çš„æ¨‚è¶£",åœ‹èªž:"æº–å‚™åœ‹èªžèª²æœ¬ã€ç¿’ä½œã€é‰›ç­†ç›’",æ•¸å­¸:"æº–å‚™æ•¸å­¸èª²æœ¬ã€é™„ä»¶ã€åœ“è¦ã€ç›´å°º",è‡ªç„¶:"æº–å‚™è‡ªç„¶èª²æœ¬ã€ç¿’ä½œã€è§€å¯Ÿç´€éŒ„æœ¬",ç¤¾æœƒ:"æº–å‚™ç¤¾æœƒèª²æœ¬ã€ç¿’ä½œ",è‹±èªž:"æº–å‚™è‹±èªžèª²æœ¬ã€ç¿’ä½œã€é»žè®€ç­†",æœ¬åœŸèªž:"æº–å‚™æœ¬åœŸèªžèª²æœ¬ã€ç›¸é—œæ•™æ",ç”Ÿæ´»:"æº–å‚™ç”Ÿæ´»èª²æœ¬ã€ç¿’ä½œ","ç”Ÿæ´»(è¦–è¦º)":"æ”œå¸¶å½©è‰²ç­†ã€æ°´å½©ã€åœè£™ï¼Œä¿æŒæ•´æ½”","ç”Ÿæ´»(éŸ³æ¨‚)":"æ”œå¸¶ç›´ç¬›/æ¨‚å™¨ã€èª²æœ¬ï¼Œè‡³éŸ³æ¨‚æ•™å®¤",è¦–è¦ºè—è¡“:"æ”œå¸¶æ°´å½©ã€ç•«ç­†ã€èª¿è‰²ç›¤ï¼Œè‡³ç¾Žå‹žæ•™å®¤",éŸ³æ¨‚:"æ”œå¸¶ç›´ç¬›/æ¨‚å™¨ã€èª²æœ¬ï¼Œè‡³éŸ³æ¨‚æ•™å®¤","è¦–è¦º/éŸ³æ¨‚":"æ”œå¸¶ç›¸é—œè—æ–‡ç”¨å…·(ç•«å…·æˆ–æ¨‚å™¨)",é«”è‚²:"ç©¿è‘—é‹å‹•æœï¼Œæ”œå¸¶æ°´å£ºã€æ¯›å·¾ï¼Œè‡³æ“å ´é›†åˆ",å¥åº·:"æº–å‚™å¥åº·èª²æœ¬ã€ç¿’ä½œ",æ¸¸æ³³:"æ”œå¸¶æ³³è¡£ã€æ³³å¸½ã€è›™é¡ã€æµ´å·¾ï¼Œè‡³æ¸¸æ³³æ± é›†åˆ",ç¶œåˆ:"æº–å‚™ç¶œåˆæ´»å‹•èª²æœ¬æˆ–å°çµ„è¨Žè«–è³‡æ–™",STEAMæ‰‹å‰µé¤¨:"è«‹è‡³é›»è…¦æ•™å®¤é›†åˆï¼Œæ”œå¸¶ç­†è¨˜æœ¬","Reading Fun":"æº–å‚™è‹±èªžè®€æœ¬ï¼Œä¿æŒæ„‰å¿«å¿ƒæƒ…",æœ‰å“éº—å±±å¹¸ç¦æ‚…è®€:"æº–å‚™å–œæ­¡çš„æ›¸ï¼Œéœå¿ƒé–±è®€",ç†è²¡æ‚ éŠè¶£:"æº–å‚™ç†è²¡å­¸ç¿’å–®æˆ–ç›¸é—œæ•™å…·",é–±è®€:"æ”œå¸¶å€Ÿé–±è­‰ï¼Œå®‰éœæŽ’éšŠè‡³åœ–æ›¸é¤¨",æ”¾å­¸:"è«‹æ”¶æ‹¾å¥½æ›¸åŒ…ï¼Œæ‹¿å¥½é¤è¢‹åŠå€‹äººç‰©å“åˆ°èµ°å»ŠæŽ’éšŠ",default:"æº–å‚™ä¸‹ç¯€èª²æœ¬ï¼Œå–æ°´ä¸Šå»æ‰€"},ae={groups:[{id:"move",label:"ç§»å‹•/é›†åˆ",icon:Ce,color:"bg-emerald-600",items:[{id:"playground",label:"æ“å ´",message:"å…¨ç­åœ¨æ“å ´",sub:"è«‹æ”œå¸¶æ°´å£º/æ¯›å·¾ï¼Œé«”è‚²èª²/æˆ¶å¤–æ´»å‹•",icon:Ls,color:"from-green-500 to-emerald-400"},{id:"library",label:"åœ–æ›¸é¤¨",message:"å…¨ç­åœ¨åœ–æ›¸é¤¨",sub:"è«‹æ”œå¸¶å­¸ç”Ÿè­‰å€Ÿé–±ï¼Œä¿æŒå®‰éœ",icon:bs,color:"from-blue-500 to-cyan-400"},{id:"activity_center",label:"æ´»å‹•ä¸­å¿ƒ",message:"å…¨ç­åœ¨æ´»å‹•ä¸­å¿ƒ",sub:"é€±æœƒ/å®£å°Žæ´»å‹•ï¼Œè«‹ç›¡é€Ÿé›†åˆ",icon:As,color:"from-purple-500 to-violet-400"},{id:"computer_lab",label:"é›»è…¦æ•™å®¤",message:"å…¨ç­åœ¨é›»è…¦æ•™å®¤",sub:"è³‡è¨Šèª²ç¨‹",icon:Be,color:"from-indigo-500 to-blue-500"},{id:"swimming_pool",label:"æ¸¸æ³³æ± ",message:"å…¨ç­åœ¨æ¸¸æ³³æ± ",sub:"è«‹æ”œå¸¶æ³³å…·ã€æ¯›å·¾",icon:Ys,color:"from-cyan-500 to-blue-600"},{id:"av_room",label:"è¦–è½æ•™å®¤",message:"å…¨ç­åœ¨è¦–è½æ•™å®¤",sub:"è§€è³žå½±ç‰‡/è¬›åº§ï¼Œè«‹ä¿æŒå®‰éœ",icon:Be,color:"from-rose-400 to-red-500"}]},{id:"status",label:"ä½œæ¯/ç‹€æ…‹",icon:Ke,color:"bg-indigo-600",items:[{id:"morning_read",label:"æ™¨é–“é–±è®€",message:"æ™¨é–“é–±è®€",sub:"è«‹å®‰éœé–±è®€ï¼Œäº«å—æ›¸æœ¬æ¨‚è¶£",type:"dark",icon:K,color:"from-amber-900 to-orange-950"},{id:"nap",label:"åˆä¼‘",message:"åˆä¼‘æ™‚é–“",sub:"è«‹è¶´ä¸‹ä¼‘æ¯ï¼Œä¿æŒå®‰éœ",type:"dark",icon:ue,color:"from-indigo-950 to-slate-900"},{id:"lunch",label:"åˆé¤",message:"åˆé¤æ™‚é–“",sub:"è«‹ç´°åš¼æ…¢åš¥ï¼Œä¿æŒæ¡Œé¢æ•´æ½”",icon:Xs,color:"from-orange-400 to-amber-500"},{id:"cleaning",label:"æ‰“æŽƒ",message:"æ‰“æŽƒæ™‚é–“",sub:"è«‹æ‹¿èµ·æŽƒå…·ï¼ŒèªçœŸæ‰“æŽƒç’°å¢ƒ",icon:cs,color:"from-cyan-400 to-blue-500"},{id:"after_school",label:"æ”¾å­¸",message:"æ”¾å­¸æ™‚é–“",sub:"è«‹æ”¶æ‹¾æ›¸åŒ…ï¼Œåº§ä½æ·¨ç©º",icon:st,color:"from-green-500 to-emerald-600"},{id:"teacher_meeting",label:"è€å¸«é–‹æœƒ",message:"è€å¸«è™•ç†å…¬å‹™ä¸­",sub:"è«‹å®‰éœé€²è¡Œç­ç´šæ´»å‹•",type:"dark",icon:Mt,color:"from-slate-700 to-slate-900"}]}],singles:[{id:"back_classroom",label:"å›žæ•™å®¤",message:"ä¸‹èª²ç›´æŽ¥å›žæ•™å®¤",sub:"ä¸è¦åœ¨å¤–é€—ç•™",icon:$t,color:"bg-blue-600"},{id:"corridor",label:"èµ°å»ŠæŽ’éšŠ",message:"åˆ°èµ°å»ŠæŽ’éšŠ",sub:"é ä¸Šæ¤…å­ï¼Œåœ¨èµ°å»Šå®‰éœæŽ’éšŠ",icon:Et,color:"bg-orange-500"}]},xe={è‡ºåŒ—å¸‚:[{name:"å…§æ¹–å€",lat:25.0689,lon:121.5909},{name:"å¤§å®‰å€",lat:25.0263,lon:121.5438},{name:"ä¿¡ç¾©å€",lat:25.0297,lon:121.5687},{name:"å£«æž—å€",lat:25.1345,lon:121.5262},{name:"åŒ—æŠ•å€",lat:25.1319,lon:121.5036},{name:"æ–‡å±±å€",lat:24.9982,lon:121.5543},{name:"ä¸­æ­£å€",lat:25.0321,lon:121.5173},{name:"è¬è¯å€",lat:25.0289,lon:121.4984},{name:"ä¸­å±±å€",lat:25.0645,lon:121.5332},{name:"æ¾å±±å€",lat:25.0594,lon:121.5583},{name:"å—æ¸¯å€",lat:25.0353,lon:121.607},{name:"å¤§åŒå€",lat:25.0637,lon:121.5126}],æ–°åŒ—å¸‚:[{name:"æ¿æ©‹å€",lat:25.0118,lon:121.4593},{name:"ä¸‰é‡å€",lat:25.0615,lon:121.4947},{name:"ä¸­å’Œå€",lat:24.9926,lon:121.5028},{name:"æ°¸å’Œå€",lat:25.0084,lon:121.5159},{name:"æ–°èŽŠå€",lat:25.036,lon:121.4504},{name:"æ–°åº—å€",lat:24.968,lon:121.5414},{name:"æ·¡æ°´å€",lat:25.1764,lon:121.4428},{name:"æ±æ­¢å€",lat:25.0673,lon:121.6496},{name:"åœŸåŸŽå€",lat:24.9722,lon:121.4443},{name:"è˜†æ´²å€",lat:25.0864,lon:121.4828}],æ¡ƒåœ’å¸‚:[{name:"æ¡ƒåœ’å€",lat:24.9937,lon:121.3013},{name:"ä¸­å£¢å€",lat:24.9654,lon:121.2248},{name:"å¹³éŽ®å€",lat:24.9317,lon:121.2003},{name:"å…«å¾·å€",lat:24.9394,lon:121.2939}],è‡ºä¸­å¸‚:[{name:"è¥¿å±¯å€",lat:24.1818,lon:120.6276},{name:"åŒ—å±¯å€",lat:24.1895,lon:120.7077},{name:"å—å±¯å€",lat:24.1275,lon:120.6265},{name:"è¥¿å€",lat:24.1408,lon:120.6659}],è‡ºå—å¸‚:[{name:"æ±å€",lat:22.9866,lon:120.2227},{name:"æ°¸åº·å€",lat:23.0132,lon:120.2625},{name:"å®‰å¹³å€",lat:22.9937,lon:120.1704}],é«˜é›„å¸‚:[{name:"ä¸‰æ°‘å€",lat:22.6482,lon:120.3175},{name:"å·¦ç‡Ÿå€",lat:22.6845,lon:120.2985},{name:"é³³å±±å€",lat:22.6258,lon:120.355},{name:"é¼“å±±å€",lat:22.6429,lon:120.2764}]},Hs={enabled:!0,city:"è‡ºåŒ—å¸‚",district:"å…§æ¹–å€",lat:25.0689,lon:121.5909},qs=[{id:1,name:"è‡ªè¨‚ 1",title:"æº–å‚™ä¸‹èª²",sub:"æ”¶æ‹¾ç‰©å“ï¼Œèµ°å»ŠæŽ’éšŠ",mode:"fullscreen",color:"from-pink-500 to-rose-500",icon:"Megaphone"},{id:2,name:"è‡ªè¨‚ 2",title:"åˆ†çµ„è¨Žè«–",sub:"è«‹é™ä½ŽéŸ³é‡ï¼Œå°ˆæ³¨è¨Žè«–",mode:"marquee",color:"from-blue-500 to-cyan-500",icon:"Users"},{id:3,name:"è‡ªè¨‚ 3",title:"å¯¦é©—ä¸­",sub:"éµå®ˆå¯¦é©—è¦å‰‡ï¼Œæ³¨æ„å®‰å…¨",mode:"fullscreen",color:"from-purple-500 to-violet-500",icon:"BookOpen"},{id:4,name:"è‡ªè¨‚ 4",title:"çœ¼çƒé‹å‹•",sub:"è«‹çœ‹é æ–¹ç¶ è‰²æ¤ç‰©",mode:"marquee",color:"from-green-500 to-emerald-500",icon:"Eye"},{id:5,name:"è‡ªè¨‚ 5",title:"ç©ºç™½å»£æ’­",sub:"",mode:"fullscreen",color:"from-orange-500 to-amber-500",icon:"Bell"},{id:6,name:"è‡ªè¨‚ 6",title:"ç©ºç™½è·‘é¦¬ç‡ˆ",sub:"",mode:"marquee",color:"from-slate-500 to-slate-700",icon:"MessageSquare"}],Y=t=>{if(!t)return 0;const[s,n]=t.split(":").map(Number);return s*3600+n*60};function Gs({timeSlots:t,dayTypes:s,specialStatus:n,isManualEco:d,isAutoEcoOverride:c,timeOffset:m}){const[l,a]=x.useState(new Date(Date.now()+m)),[o,b]=x.useState("loading"),[u,p]=x.useState(null),[i,f]=x.useState(null),[j,h]=x.useState(100),[k,M]=x.useState(0);x.useEffect(()=>{const y=setInterval(()=>{a(new Date(Date.now()+m))},1e3);return()=>clearInterval(y)},[m]);const v=l.getDay(),N=x.useMemo(()=>{if(v===0||v===6)return[];if(!(s[v]==="half"))return t;const E=[];let R=!1;const A=t.find(g=>g.id==="p5")?.start||"13:20";for(let g of t)if(!R){if(g.id==="break3"){E.push({...g,name:"æ‰“æŽƒæ™‚é–“"});continue}if(Y(g.start)>=Y(A)){E.push({id:"after",name:"æ”¾å­¸",start:g.start,end:"17:00",type:"break"}),R=!0;continue}E.push(g)}return E},[t,s,v]);return x.useEffect(()=>{if(n&&n.mode!=="marquee"){b("special");return}if(d){b("eco");return}const y=l.getHours()*3600+l.getMinutes()*60+l.getSeconds();let E=null,R=null;const A=[...N].sort((g,w)=>Y(g.start)-Y(w.start));if(N.length===0){b("off-hours"),p(null),f(null);return}for(let g=0;g<A.length;g++){const w=A[g],S=Y(w.start),C=Y(w.end);if(y>=S&&y<C){E=w;for(let B=g+1;B<A.length;B++)if(A[B].type==="class"){R=A[B];break}break}}if(p(E),f(R),!E)b("off-hours");else if(E.type==="class"){const g=Y(E.start);y-g>180&&!c?b("eco"):b("class")}else{const g=Y(E.start),w=Y(E.end),S=w-g,C=w-y;M(C),h(Math.max(0,Math.min(100,C/S*100))),C<=60&&C>0?b("pre-bell"):b("break")}},[l,N,n,d,c]),{now:l,statusMode:o,currentSlot:u,nextSlot:i,progress:j,secondsRemaining:k,activeTimeSlots:N}}function Vs({specialStatus:t,isSystemSoundEnabled:s,uiState:n,onCloseUI:d,tts:c}){const[m,l]=x.useState(!1);x.useEffect(()=>{if(!c||!t||!s)return;const o=`${t.message}ã€‚${t.sub||""}`;return c.speak?.(o,"zh-TW",.9,0,1.05),()=>{speechSynthesis.speaking&&speechSynthesis.cancel()}},[t,s,c?.speak,c?.cancel]);const a=x.useCallback(()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(o=>console.error(o))},[]);return x.useEffect(()=>{const o=()=>l(!!document.fullscreenElement);return document.addEventListener("fullscreenchange",o),()=>document.removeEventListener("fullscreenchange",o)},[]),x.useEffect(()=>{const o=b=>{b.target.tagName==="INPUT"||b.target.tagName==="TEXTAREA"||((b.key==="f"||b.key==="F")&&!n.isEditingMessage&&!n.showSettings&&!n.showBroadcastInput&&a(),b.key==="Escape"&&d())};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[n,d,a]),{isFullscreen:m,toggleFullScreen:a}}class W extends V.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,n){console.error("Uncaught error:",s,n)}handleReset=()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 rounded-xl bg-slate-100 dark:bg-slate-800 border-2 border-dashed border-slate-300 dark:border-slate-600 text-slate-500 min-h-[100px] w-full",children:[e.jsx(he,{className:"mb-2 text-amber-500",size:24}),e.jsx("p",{className:"text-sm font-bold mb-2",children:"æ­¤å€å¡Šæš«æ™‚ç„¡æ³•é¡¯ç¤º"}),e.jsxs("button",{onClick:this.handleReset,className:"flex items-center gap-1 px-3 py-1 text-xs font-bold text-white bg-slate-500 hover:bg-slate-600 rounded-lg transition-colors",children:[e.jsx(Ts,{size:12})," é‡è©¦"]})]}):this.props.children}}const Ws={gray:0,rose:1,orange:2,amber:3,emerald:4,cyan:5,blue:6,purple:7,pink:8},G=({title:t,icon:s,isOpen:n,onToggle:d,children:c,theme:m="gray"})=>{const l=Ws[m]??0,a=St[l];return e.jsxs("div",{className:`
        rounded-2xl overflow-hidden transition-all duration-300 border 
        ${n?`${a.border} shadow-lg`:`${r.BORDER_DEFAULT} shadow-sm hover:shadow-md`}
      `,children:[e.jsxs("button",{onClick:d,className:`
          w-full p-5 flex items-center justify-between transition-colors text-left 
          ${n?a.bg:`${r.SURFACE_CARD} hover:bg-slate-50 dark:hover:bg-slate-800`}
        `,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-xl ${n?"bg-white dark:bg-slate-900 shadow-sm":"bg-slate-100 dark:bg-slate-800"}`,children:e.jsx(s,{className:a.text,size:24})}),e.jsx("span",{className:`text-lg font-bold ${r.TEXT_PRIMARY}`,children:t})]}),e.jsx("div",{className:`transition-transform duration-300 ${n?"rotate-180":""} ${r.TEXT_MUTED}`,children:e.jsx(Ut,{size:20})})]}),n&&e.jsx("div",{className:`p-6 border-t animate-in slide-in-from-top-2 duration-300 ${a.border} bg-white/50 dark:bg-slate-900/20`,children:c})]})},Ks=["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"],Zs=({is24Hour:t,setIs24Hour:s,timeOffset:n,setTimeOffset:d,isOpen:c,onToggle:m,dayTypes:l,setDayTypes:a})=>e.jsx(G,{title:"ä¸€èˆ¬é¡¯ç¤ºè¨­å®š",icon:Qe,theme:"gray",isOpen:c,onToggle:m,children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:`font-bold w-24 ${r.TEXT_SECONDARY}`,children:"æ™‚é–“æ ¼å¼ï¼š"}),e.jsxs("div",{className:`flex rounded-lg p-1 ${r.BACKGROUND}`,children:[e.jsx("button",{onClick:()=>s(!1),className:`px-6 py-2 rounded-md text-sm font-bold transition-all ${t?`${r.TEXT_MUTED} hover:text-slate-600`:"bg-white dark:bg-slate-700 shadow-md text-blue-600 dark:text-blue-400"}`,children:"12H"}),e.jsx("button",{onClick:()=>s(!0),className:`px-6 py-2 rounded-md text-sm font-bold transition-all ${t?"bg-white dark:bg-slate-700 shadow-md text-blue-600 dark:text-blue-400":`${r.TEXT_MUTED} hover:text-slate-600`}`,children:"24H"})]})]}),e.jsx("span",{className:`font-bold w-24 ${r.TEXT_SECONDARY}`,children:"å…¨å¤©åŠå¤©ï¼š"}),e.jsx("div",{className:"grid grid-cols-5 gap-4",children:[1,2,3,4,5].map(o=>e.jsxs("div",{className:`flex flex-col items-center gap-3 p-4 rounded-xl border ${r.SURFACE_CARD} ${r.BORDER_DEFAULT}`,children:[e.jsxs("span",{className:`text-sm font-bold ${r.TEXT_SECONDARY}`,children:["é€±",Ks[o]]}),e.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[e.jsx("button",{onClick:()=>a(b=>({...b,[o]:"full"})),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all border shadow-sm flex items-center justify-center gap-1 ${l[o]==="full"?"bg-blue-500 text-white border-blue-600 shadow-blue-200":`bg-transparent ${r.TEXT_MUTED} border-transparent hover:bg-slate-100 dark:hover:bg-slate-800`}`,children:"å…¨å¤©"}),e.jsx("button",{onClick:()=>a(b=>({...b,[o]:"half"})),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all border shadow-sm flex items-center justify-center gap-1 ${l[o]==="half"?"bg-amber-500 text-white border-amber-600 shadow-amber-200":`bg-transparent ${r.TEXT_MUTED} border-transparent hover:bg-slate-100 dark:hover:bg-slate-800`}`,children:"åŠå¤©"})]})]},o))})]})}),Qs=({weatherConfig:t,setWeatherConfig:s,isOpen:n,onToggle:d})=>{const c=async()=>{if(t.district)try{const a=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${t.district}&format=json&limit=1`)).json();if(a&&a.length>0){const o=a[0];s({...t,city:"custom",lat:parseFloat(o.lat),lon:parseFloat(o.lon)}),alert(`å·²æ‰¾åˆ°åœ°é»žï¼š${o.display_name}
åº§æ¨™æ›´æ–°ç‚ºï¼š${o.lat}, ${o.lon}`)}else alert("æ‰¾ä¸åˆ°è©²åœ°é»žï¼Œè«‹å˜—è©¦è¼¸å…¥æ›´å®Œæ•´çš„åç¨±ï¼ˆä¾‹å¦‚ï¼šå˜‰ç¾©ç¸£é˜¿é‡Œå±±é„‰ï¼‰")}catch(l){console.error(l),alert("æœå°‹å¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·š")}},m=`bg-slate-100 dark:bg-slate-800 border-transparent focus:bg-white dark:focus:bg-slate-900 focus:ring-2 focus:ring-blue-500/50 outline-none rounded-lg transition-all ${r.TEXT_PRIMARY}`;return e.jsx(G,{title:"å¤©æ°£èˆ‡åœ°å€è¨­å®š",icon:ns,theme:"blue",isOpen:n,onToggle:d,children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-100 dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:`font-bold text-lg ${r.TEXT_PRIMARY}`,children:"é¡¯ç¤ºå¤©æ°£å°å·¥å…·"}),e.jsx("span",{className:`text-xs ${r.TEXT_MUTED}`,children:"åœ¨ä¸»ç•«é¢å³ä¸Šè§’é¡¯ç¤ºå³æ™‚æ°£æº«èˆ‡é™é›¨æ©ŸçŽ‡"})]}),e.jsx("button",{onClick:()=>s({...t,enabled:!t.enabled}),className:`relative w-14 h-8 rounded-full transition-all duration-300 ease-in-out ${t.enabled?"bg-blue-500":"bg-slate-300 dark:bg-slate-600"}`,children:e.jsx("div",{className:`absolute top-1 left-1 w-6 h-6 bg-white rounded-full shadow-md transition-transform duration-300 ${t.enabled?"translate-x-6":"translate-x-0"}`})})]}),e.jsxs("div",{className:`transition-all duration-300 ${t.enabled?"opacity-100":"opacity-50 pointer-events-none grayscale"}`,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-bold mb-2 ${r.TEXT_SECONDARY}`,children:"ç¸£å¸‚ (å¿«é€Ÿæ¨£æ¿)"}),e.jsxs("select",{value:t.city,onChange:l=>{const a=l.target.value;if(a==="custom")s({...t,city:"custom",district:""});else{const o=xe[a][0];s({city:a,district:o.name,lat:o.lat,lon:o.lon})}},className:`w-full p-3 font-bold cursor-pointer ${m}`,children:[Object.keys(xe).map(l=>e.jsx("option",{value:l,children:l},l)),e.jsx("option",{value:"custom",children:"ðŸ“ è‡ªè¨‚åœ°é»ž (æ‰‹å‹•è¼¸å…¥)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-bold mb-2 ${r.TEXT_SECONDARY}`,children:"åœ°é»žæœå°‹ / è¡Œæ”¿å€"}),t.city==="custom"?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:t.district,onChange:l=>s({...t,district:l.target.value}),placeholder:"è¼¸å…¥åœ°é»ž (å¦‚: é˜¿é‡Œå±±)",className:`flex-1 p-3 font-bold ${m}`,onKeyDown:l=>l.key==="Enter"&&c()}),e.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-bold transition-colors",children:"æœå°‹"})]}):e.jsx("select",{value:t.district,onChange:l=>{const a=l.target.value,o=xe[t.city].find(b=>b.name===a);s({...t,district:a,lat:o.lat,lon:o.lon})},className:`w-full p-3 font-bold cursor-pointer ${m}`,children:xe[t.city]?.map(l=>e.jsx("option",{value:l.name,children:l.name},l.name))})]})]}),e.jsx("div",{className:"w-full h-px bg-slate-200 dark:bg-slate-700 my-4"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-bold mb-2 ${r.TEXT_SECONDARY}`,children:"ç·¯åº¦ (Latitude)"}),e.jsx("input",{type:"number",step:"0.0001",value:t.lat,onChange:l=>s({...t,lat:parseFloat(l.target.value)}),className:`w-full p-3 font-mono font-bold ${m}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-bold mb-2 ${r.TEXT_SECONDARY}`,children:"ç¶“åº¦ (Longitude)"}),e.jsx("input",{type:"number",step:"0.0001",value:t.lon,onChange:l=>s({...t,lon:parseFloat(l.target.value)}),className:`w-full p-3 font-mono font-bold ${m}`})]})]}),e.jsxs("div",{className:`mt-4 text-xs flex items-center gap-2 ${r.TEXT_MUTED} bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-100 dark:border-blue-800`,children:[e.jsx(Ce,{size:14}),e.jsx("span",{children:"æç¤ºï¼šæ‚¨å¯ä»¥é€éŽ Google Maps å³éµé»žé¸åœ°é»žä¾†å–å¾—ç²¾æº–åº§æ¨™ã€‚é¸å–®åƒ…ä¾›å¿«é€Ÿå¡«å…¥ï¼Œå¯¦éš›å¤©æ°£å°‡ä¾æ“šä¸‹æ–¹åº§æ¨™æŠ“å–ã€‚"})]})]})]})})},Js=({timeSlots:t,setTimeSlots:s,schedule:n,setSchedule:d,isOpen:c,onToggle:m})=>{const l=(u,p,i)=>{const f=t.map(j=>j.id===u?{...j,[p]:i}:j);f.sort((j,h)=>j.start.localeCompare(h.start)),s(f)},a=()=>{const p={id:`custom_${Date.now()}`,name:"æ–°æ™‚æ®µ",start:"00:00",end:"00:00",type:"break"};s([...t,p])},o=u=>{if(confirm("ç¢ºå®šè¦åˆªé™¤æ­¤æ™‚æ®µå—Žï¼Ÿé€™å°‡æœƒä¸€ä½µæ¸…é™¤è©²æ™‚æ®µçš„èª²è¡¨è³‡æ–™ã€‚")){s(t.filter(i=>i.id!==u));const p={...n};Object.keys(p).forEach(i=>{p[i][u]&&delete p[i][u]}),d(p)}},b=`bg-slate-100 dark:bg-slate-800 border-transparent focus:bg-white dark:focus:bg-slate-900 focus:ring-2 focus:ring-blue-500/50 outline-none rounded-lg transition-all ${r.TEXT_PRIMARY}`;return e.jsx(G,{title:"ä½œæ¯æ™‚é–“è¡¨è¨­å®š",icon:be,theme:"rose",isOpen:c,onToggle:m,children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`grid grid-cols-12 gap-4 text-xs font-bold px-4 uppercase tracking-wider ${r.TEXT_MUTED} opacity-70`,children:[e.jsx("div",{className:"col-span-3",children:"æ™‚æ®µåç¨±"}),e.jsx("div",{className:"col-span-2",children:"é–‹å§‹"}),e.jsx("div",{className:"col-span-2",children:"çµæŸ"}),e.jsx("div",{className:"col-span-3",children:"é¡žåž‹"}),e.jsx("div",{className:"col-span-2 text-center",children:"æ“ä½œ"})]}),t.map(u=>e.jsxs("div",{className:`grid grid-cols-12 gap-4 items-center p-3 rounded-xl border transition-all hover:shadow-md ${r.SURFACE_CARD} ${r.BORDER_DEFAULT}`,children:[e.jsx("div",{className:"col-span-3",children:e.jsx("input",{value:u.name,onChange:p=>l(u.id,"name",p.target.value),className:`w-full font-bold px-3 py-2 ${b}`})}),e.jsx("div",{className:"col-span-2",children:e.jsx("input",{type:"time",value:u.start,onChange:p=>l(u.id,"start",p.target.value),className:`w-full font-mono font-bold text-center px-1 py-2 ${b}`})}),e.jsx("div",{className:"col-span-2",children:e.jsx("input",{type:"time",value:u.end,onChange:p=>l(u.id,"end",p.target.value),className:`w-full font-mono font-bold text-center px-1 py-2 ${b}`})}),e.jsx("div",{className:"col-span-3",children:e.jsxs("select",{value:u.type,onChange:p=>l(u.id,"type",p.target.value),className:`w-full text-sm font-bold px-3 py-2 cursor-pointer ${b} ${u.type==="class"?"text-indigo-600 dark:text-indigo-400":"text-emerald-600 dark:text-emerald-400"}`,children:[e.jsx("option",{value:"class",children:"ðŸ“š ä¸Šèª² (Class)"}),e.jsx("option",{value:"break",children:"â˜• ä¸‹èª² (Break)"})]})}),e.jsx("div",{className:"col-span-2 text-center",children:e.jsx("button",{onClick:()=>o(u.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:e.jsx(we,{size:18})})})]},u.id)),e.jsxs("button",{onClick:a,className:"w-full py-4 mt-4 border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl text-slate-500 font-bold hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-slate-700 dark:hover:text-slate-200 transition-all flex items-center justify-center gap-2",children:[e.jsx(Se,{size:20})," æ–°å¢žæ™‚é–“æ®µ"]})]})})},ea=["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"],ta=({schedule:t,setSchedule:s,timeSlots:n,subjectHints:d,isOpen:c,onToggle:m})=>{const l=(u,p,i)=>{s(f=>({...f,[u]:{...f[u],[p]:i}}))},a=n.filter(u=>u.type==="class"),o=Object.keys(t).sort(),b=`bg-slate-100 dark:bg-slate-800 border-transparent focus:bg-white dark:focus:bg-slate-900 focus:ring-2 focus:ring-blue-500/50 outline-none rounded-lg transition-all ${r.TEXT_PRIMARY}`;return e.jsxs(G,{title:"èª²è¡¨è¨­å®š",icon:Ot,theme:"orange",isOpen:c,onToggle:m,children:[e.jsxs("div",{className:`grid grid-cols-6 gap-3 text-sm text-center mb-3 font-bold p-3 rounded-xl ${r.BACKGROUND} ${r.TEXT_SECONDARY}`,children:[e.jsx("div",{children:"ç¯€æ¬¡"}),o.map(u=>e.jsxs("div",{children:["é€±",ea[u]]},u))]}),a.length>0?a.map(u=>e.jsxs("div",{className:"grid grid-cols-6 gap-3 mb-3",children:[e.jsx("div",{className:`flex items-center justify-center font-bold rounded-lg text-sm ${r.SURFACE_CARD} ${r.TEXT_PRIMARY} shadow-sm border ${r.BORDER_DEFAULT}`,children:u.name}),o.map(p=>e.jsxs("select",{value:t[p]?.[u.id]||"",onChange:i=>l(p,u.id,i.target.value),className:`text-center text-sm cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-700 ${b} p-2 appearance-none`,children:[e.jsx("option",{value:"",className:"text-slate-400",children:"(ç©ºå ‚)"}),Object.keys(d).filter(i=>i!=="default").map(i=>e.jsx("option",{value:i,children:i},i))]},`${p}-${u.id}`))]},u.id)):e.jsx("div",{className:`text-center py-8 ${r.TEXT_MUTED} text-sm border-2 border-dashed ${r.BORDER_DEFAULT} rounded-xl`,children:"å°šæœªè¨­å®šä»»ä½•ã€Œä¸Šèª²ã€æ™‚æ®µï¼Œè«‹å…ˆè‡³ã€Œä½œæ¯æ™‚é–“è¡¨ã€æ–°å¢žé¡žåž‹ç‚ºã€ŒðŸ“š ä¸Šèª²ã€çš„æ™‚æ®µã€‚"})]})},sa=({subjectHints:t,setSubjectHints:s,schedule:n,setSchedule:d,isOpen:c,onToggle:m})=>{const[l,a]=x.useState(""),o=()=>{if(l.trim()){if(t[l.trim()]){alert("è©²ç§‘ç›®å·²å­˜åœ¨ï¼");return}s(i=>({...i,[l.trim()]:"è«‹è¨­å®šæº–å‚™äº‹é …..."})),a("")}},b=i=>{if(i==="default"){alert("é è¨­ç§‘ç›®ç„¡æ³•åˆªé™¤");return}if(confirm(`ç¢ºå®šè¦åˆªé™¤ã€Œ${i}ã€å—Žï¼Ÿ`)){const f={...t};delete f[i],s(f);const j={...n};Object.keys(j).forEach(h=>{Object.keys(j[h]).forEach(k=>{j[h][k]===i&&(j[h][k]="")})}),d(j)}},u=(i,f)=>{const j=f.trim();if(i===j||!j)return;if(t[j]){alert(`ç§‘ç›®ã€Œ${j}ã€å·²å­˜åœ¨ã€‚`);return}const h={...t};h[j]=h[i],delete h[i],s(h);const k={...n};Object.keys(k).forEach(M=>{Object.keys(k[M]).forEach(v=>{k[M][v]===i&&(k[M][v]=j)})}),d(k)},p=`bg-slate-100 dark:bg-slate-800 border-transparent focus:bg-white dark:focus:bg-slate-900 focus:ring-2 focus:ring-blue-500/50 outline-none rounded-lg transition-all ${r.TEXT_PRIMARY}`;return e.jsxs(G,{title:"ç§‘ç›®èˆ‡æé†’è©žç®¡ç†",icon:be,theme:"amber",isOpen:c,onToggle:m,children:[e.jsxs("div",{className:"flex gap-3 mb-6",children:[e.jsx("input",{value:l,onChange:i=>a(i.target.value),placeholder:"è¼¸å…¥æ–°ç§‘ç›®åç¨±...",className:`flex-1 p-3 shadow-sm ${p}`,onKeyDown:i=>i.key==="Enter"&&o()}),e.jsxs("button",{onClick:o,className:"bg-emerald-500 hover:bg-emerald-600 text-white px-6 rounded-xl font-bold shadow-lg shadow-emerald-500/30 transition-all active:scale-95 flex items-center gap-2",children:[e.jsx(Se,{size:20})," æ–°å¢ž"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.keys(t).map(i=>e.jsxs("div",{className:`flex gap-3 items-center p-3 rounded-xl border shadow-sm ${r.SURFACE_CARD} ${r.BORDER_DEFAULT}`,children:[i==="default"?e.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-bold w-24 text-center ${r.BACKGROUND} ${r.TEXT_MUTED}`,children:"é è¨­"}):e.jsx("input",{defaultValue:i,onBlur:f=>u(i,f.target.value),className:`w-24 px-2 py-1 font-bold bg-transparent border-b-2 border-transparent focus:border-blue-500 outline-none text-sm transition-colors ${r.TEXT_PRIMARY}`}),e.jsx("input",{value:t[i],onChange:f=>s({...t,[i]:f.target.value}),className:`flex-1 bg-transparent outline-none text-sm ${r.TEXT_SECONDARY} focus:text-blue-500`,placeholder:"è¼¸å…¥æé†’äº‹é …..."}),i!=="default"&&e.jsx("button",{onClick:()=>b(i),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition",children:e.jsx(we,{size:16})})]},i))})]})},aa=({visibleButtons:t,setVisibleButtons:s,systemButtonsConfig:n,isOpen:d,onToggle:c})=>{const m=l=>{t.includes(l)?s(t.filter(a=>a!==l)):s([...t,l])};return e.jsx(G,{title:"æŽ§åˆ¶åˆ—æŒ‰éˆ•ç®¡ç†",icon:Fs,theme:"emerald",isOpen:d,onToggle:c,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`text-xs ${r.TEXT_MUTED}`,children:"é»žæ“Šåˆ‡æ›æŽ§åˆ¶åˆ—ä¸Šé¡¯ç¤ºçš„åŠŸèƒ½æŒ‰éˆ•ï¼š"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:n.singles.map(l=>e.jsxs("button",{onClick:()=>m(l.id),className:`p-3 rounded-xl border text-sm font-bold flex items-center gap-2 transition-all ${t.includes(l.id)?`
					bg-emerald-100 dark:bg-emerald-900/40
					border-emerald-500 dark:border-emerald-400
					text-emerald-800 dark:text-emerald-200
					ring-2 ring-emerald-400/40 dark:ring-emerald-300/40
					`:`
					bg-transparent
					border-slate-200 dark:border-slate-700
					text-slate-400
					opacity-60
					`}`,children:[e.jsx(l.icon,{size:16}),l.label]},l.id))}),n.groups.map(l=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:`text-xs font-bold ${r.TEXT_MUTED} uppercase`,children:l.label}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:l.items.map(a=>e.jsxs("button",{onClick:()=>m(a.id),className:`p-3 rounded-xl border text-sm font-bold flex items-center gap-2 transition-all ${t.includes(a.id)?`
					bg-emerald-100 dark:bg-emerald-900/40
					border-emerald-500 dark:border-emerald-400
					text-emerald-800 dark:text-emerald-200
					ring-2 ring-emerald-400/40 dark:ring-emerald-300/40
					`:`
					bg-transparent
					border-slate-200 dark:border-slate-700
					text-slate-400
					opacity-60
					`}`,children:[e.jsx(a.icon,{size:16}),a.label]},a.id))})]},l.id))]})})},la=({customPresets:t,setCustomPresets:s,isOpen:n,onToggle:d})=>{const[c,m]=x.useState(null),[l,a]=x.useState({title:"",sub:""}),o=i=>{m(i.id),a({title:i.title,sub:i.sub})},b=()=>{s(i=>i.map(f=>f.id===c?{...f,title:l.title,sub:l.sub}:f)),m(null)},u=i=>{confirm("ç¢ºå®šåˆªé™¤æ­¤é è¨­å»£æ’­ï¼Ÿ")&&s(f=>f.filter(j=>j.id!==i))},p=()=>{const i=Date.now();s(f=>[...f,{id:i,title:"æ–°å»£æ’­",sub:"è«‹è¼¸å…¥å…§å®¹",icon:"Megaphone",color:"from-blue-500 to-cyan-500",mode:"fullscreen"}]),m(i),a({title:"æ–°å»£æ’­",sub:"è«‹è¼¸å…¥å…§å®¹"})};return e.jsx(G,{title:"å»£æ’­å¿«æ·éµè¨­å®š",icon:X,theme:"cyan",isOpen:n,onToggle:d,children:e.jsxs("div",{className:"space-y-3",children:[t.map(i=>e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl border ${r.SURFACE_CARD} ${r.BORDER_DEFAULT}`,children:[c===i.id?e.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-2",children:[e.jsx("input",{value:l.title,onChange:f=>a({...l,title:f.target.value}),className:"p-2 border rounded text-sm font-bold bg-white dark:bg-slate-800 dark:border-slate-600",placeholder:"æ¨™é¡Œ"}),e.jsx("input",{value:l.sub,onChange:f=>a({...l,sub:f.target.value}),className:"p-2 border rounded text-sm bg-white dark:bg-slate-800 dark:border-slate-600",placeholder:"å‰¯æ¨™é¡Œ"})]}):e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-bold text-sm ${r.TEXT_PRIMARY}`,children:i.title}),e.jsx("div",{className:`text-xs ${r.TEXT_MUTED}`,children:i.sub})]}),e.jsxs("div",{className:"flex gap-1",children:[c===i.id?e.jsx("button",{onClick:b,className:"p-2 text-emerald-500 hover:bg-emerald-50 rounded",children:e.jsx(Je,{size:16})}):e.jsx("button",{onClick:()=>o(i),className:"p-2 text-slate-400 hover:text-blue-500 hover:bg-blue-50 rounded",children:e.jsx(me,{size:16})}),e.jsx("button",{onClick:()=>u(i.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded",children:e.jsx(we,{size:16})})]})]},i.id)),e.jsxs("button",{onClick:p,className:"w-full py-3 border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl text-slate-500 font-bold hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Se,{size:18})," æ–°å¢žå»£æ’­é è¨­"]})]})})},Ye=["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"],ra=({onOpenBackup:t,setTimeOffset:s,setIsManualEco:n,setIsAutoEcoOverride:d,isOpen:c,onToggle:m,openDialog:l,handleResetRequest:a,onCloseSettings:o})=>{const[b,u]=x.useState(""),[p,i]=x.useState(""),f=()=>{const h=new Date;let k=new Date(h);if(b){const[v,N]=b.split(":").map(Number);k.setHours(v,N,0)}if(p!==""){const v=h.getDay(),y=parseInt(p,10)-v;k.setDate(h.getDate()+y)}const M=k.getTime()-h.getTime();s(M),n(!1),d(!0),l({type:"alert",title:"æ™‚å…‰æ©Ÿå•Ÿå‹•",message:`å·²æ¨¡æ“¬æ™‚é–“ç‚ºï¼šé€±${Ye[k.getDay()]} ${k.toLocaleTimeString()}
å³å°‡è¿”å›žä¸»ç•«é¢...`,onConfirm:()=>{o&&o()}})},j=()=>{s(0),u(""),i(""),l({type:"alert",title:"æ™‚é–“é‡ç½®",message:"ç³»çµ±æ™‚é–“å·²å›žæ­¸æ­£å¸¸ã€‚",onConfirm:()=>{o&&o()}})};return e.jsx(G,{title:"ç³»çµ±ç¶­è­·èˆ‡æ¸¬è©¦",icon:he,theme:"purple",isOpen:c,onToggle:m,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800 rounded-xl",children:[e.jsxs("h4",{className:"font-bold mb-3 flex items-center gap-2 text-indigo-700 dark:text-indigo-300",children:[e.jsx(Ie,{size:18})," æ™‚å…‰æ©Ÿ (æ¸¬è©¦ç”¨)"]}),e.jsxs("div",{className:"flex gap-3 mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"è¨­å®šæ™‚é–“"}),e.jsx("input",{type:"time",value:b,onChange:h=>u(h.target.value),className:`w-full p-2 rounded-lg font-mono font-bold ${r.INPUT_BASE}`})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"è¨­å®šæ˜ŸæœŸ"}),e.jsxs("select",{value:p,onChange:h=>i(h.target.value),className:`w-full p-2 rounded-lg font-bold ${r.INPUT_BASE} cursor-pointer`,children:[e.jsx("option",{value:"",children:"(ç¶­æŒä»Šå¤©)"}),Ye.map((h,k)=>e.jsxs("option",{value:k,children:["é€±",h]},k))]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:j,className:"flex-1 py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300 font-bold rounded-lg transition-colors flex items-center justify-center gap-1",children:[e.jsx(be,{size:14})," é‡ç½®æ™‚é–“"]}),e.jsxs("button",{onClick:f,className:"flex-1 py-2 bg-indigo-500 hover:bg-indigo-600 text-white font-bold rounded-lg shadow-sm transition-colors flex items-center justify-center gap-1",children:[e.jsx(Ie,{size:14})," å¥—ç”¨æ¨¡æ“¬"]})]})]}),e.jsx("div",{className:"w-full h-px bg-slate-200 dark:bg-slate-700"}),e.jsxs("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl",children:[e.jsxs("h4",{className:"font-bold mb-2 flex items-center gap-2 text-slate-700 dark:text-slate-300",children:[e.jsx(Ct,{size:18})," è³‡æ–™å‚™ä»½èˆ‡é‚„åŽŸ"]}),e.jsx("button",{onClick:t,className:"w-full py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold rounded-lg shadow-sm transition-all",children:"é–‹å•Ÿå‚™ä»½ç®¡ç†å“¡"})]})]})})},na=({isOpen:t,onClose:s,timeSlots:n,setTimeSlots:d,schedule:c,setSchedule:m,subjectHints:l,setSubjectHints:a,dayTypes:o,setDayTypes:b,timeOffset:u,setTimeOffset:p,setIsManualEco:i,setIsAutoEcoOverride:f,is24Hour:j,setIs24Hour:h,now:k,visibleButtons:M,setVisibleButtons:v,systemButtonsConfig:N,weatherConfig:y,setWeatherConfig:E,customPresets:R,setCustomPresets:A,defaultValues:g})=>{const[w,S]=x.useState(!1),[C,B]=x.useState({isOpen:!1,type:"alert",title:"",message:"",onConfirm:null}),[L,Q]=x.useState({general:!0,weather:!1,timeslots:!1,schedule:!1,hints:!1,buttons:!1,broadcast:!1,maintenance:!1}),I=O=>{Q(z=>({...z,[O]:!z[O]}))},le=({type:O,title:z,message:H,onConfirm:fe})=>{B({isOpen:!0,type:O,title:z,message:H,onConfirm:fe})},re=()=>{B(O=>({...O,isOpen:!1}))},J=x.useCallback(()=>{s?.()},[s]);x.useCallback(()=>{S(!0)},[]);const ne=x.useCallback(()=>{S(!1)},[]);x.useCallback(()=>{J()},[J]);const ee=x.useCallback(O=>{O.stopPropagation()},[]);return t?e.jsxs("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[999] flex items-center justify-center p-4 md:p-8 animate-in fade-in duration-200",onClick:s,children:[e.jsx(_t,{isOpen:w,onClose:ne}),e.jsx(Dt,{isOpen:C.isOpen,onClose:re,type:C.type,title:C.title,message:C.message,onConfirm:O=>{C.onConfirm&&C.onConfirm(O),C.type!=="prompt"&&re()}}),e.jsxs("div",{className:`${r.SURFACE_GLASS} w-full max-w-5xl h-[90vh] rounded-[2rem] shadow-2xl flex flex-col overflow-hidden border ${r.BORDER_LIGHT}`,onClick:ee,children:[e.jsxs("div",{className:`flex items-center justify-between p-5 border-b ${r.BORDER_LIGHT} bg-white dark:bg-slate-900`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-xl",children:e.jsx(Es,{className:"text-indigo-600 dark:text-indigo-400",size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:`text-xl font-black ${r.TEXT_PRIMARY}`,children:"ç³»çµ±å„€è¡¨æ¿è¨­å®š"}),e.jsx("p",{className:`text-xs ${r.TEXT_MUTED}`,children:"è‡ªè¨‚æ‚¨çš„æ•™å®¤é¡¯ç¤ºè³‡è¨Šèˆ‡è‡ªå‹•åŒ–è¦å‰‡"})]})]}),e.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx(Z,{size:24})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 custom-scrollbar bg-slate-50/50 dark:bg-black/20",children:[e.jsx(Zs,{is24Hour:j,setIs24Hour:h,dayTypes:o,setDayTypes:b,timeOffset:u,setTimeOffset:p,isOpen:L.general,onToggle:()=>I("general")}),e.jsx(Js,{timeSlots:n,setTimeSlots:d,schedule:c,setSchedule:m,isOpen:L.timeslots,onToggle:()=>I("timeslots")}),e.jsx(ta,{schedule:c,setSchedule:m,timeSlots:n,subjectHints:l,isOpen:L.schedule,onToggle:()=>I("schedule")}),e.jsx(sa,{subjectHints:l,setSubjectHints:a,schedule:c,setSchedule:m,isOpen:L.hints,onToggle:()=>I("hints")}),e.jsx(aa,{visibleButtons:M,setVisibleButtons:v,systemButtonsConfig:N,isOpen:L.buttons,onToggle:()=>I("buttons")}),e.jsx(la,{customPresets:R,setCustomPresets:A,isOpen:L.broadcast,onToggle:()=>I("broadcast")}),e.jsx(Qs,{weatherConfig:y,setWeatherConfig:E,isOpen:L.weather,onToggle:()=>I("weather")}),e.jsx(ra,{setTimeOffset:p,setIsManualEco:i,setIsAutoEcoOverride:f,onOpenBackup:()=>S(!0),openDialog:le,isOpen:L.maintenance,onToggle:()=>I("maintenance"),onCloseSettings:s})]}),e.jsx("div",{className:`p-4 border-t ${r.BORDER_LIGHT} bg-white dark:bg-slate-900 flex justify-end`,children:e.jsx("button",{onClick:s,className:"px-6 py-2.5 bg-slate-900 dark:bg-slate-700 hover:bg-slate-800 text-white rounded-xl font-bold shadow-lg transition-all active:scale-95",children:"å®Œæˆè¨­å®š"})})]})]}):null},oa=(t,s,n)=>{const[d,c]=t.split(":").map(Number),[m,l]=s.split(":").map(Number),a=d*60+c,o=m*60+l,b=n.getHours()*60+n.getMinutes();return b<a?0:b>o?100:(b-a)/(o-a)*100},ia=({now:t,is24Hour:s,dayTypes:n})=>{const d=n[t.getDay()]||"full";return e.jsxs("div",{className:`p-6 border-b flex flex-col items-center justify-center shrink-0 backdrop-blur-md ${r.SURFACE_GLASS} ${r.BORDER_DEFAULT}`,children:[e.jsx("div",{className:`text-6xl font-black tracking-tighter mb-2 font-mono ${r.TEXT_PRIMARY}`,children:t.toLocaleTimeString("en-US",{hour12:!s,hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/AM|PM/,"")}),e.jsxs("div",{className:`flex items-center gap-3 text-sm font-bold uppercase tracking-widest ${r.TEXT_SECONDARY}`,children:[e.jsx("span",{children:t.toLocaleDateString("zh-TW",{month:"long",day:"numeric",weekday:"long"})}),e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] border ${d==="half"?"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800":"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800"}`,children:d==="half"?"åŠå¤©èª²":"å…¨å¤©èª²"})]})]})},da=V.memo(({displaySlots:t,daySchedule:s,currentSlotId:n,nextSlotId:d,now:c,isGlobalZhuyin:m})=>(x.useEffect(()=>{const l=setTimeout(()=>{let a=n;!document.getElementById(`slot-${n}`)&&d&&(a=d);const b=document.getElementById(`slot-${a}`);b&&b.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},100);return()=>clearTimeout(l)},[n,d]),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar scroll-smooth relative",children:t.map(l=>{const a=l.id===n,o=l.id===d,b=s[l.id],u=a?oa(l.start,l.end,c):0;let p="relative p-4 rounded-2xl transition-all duration-500 border-l-4 ";return a?p+="bg-white dark:bg-slate-800 shadow-lg scale-105 z-10 border-indigo-500 ring-1 ring-black/5 dark:ring-white/10":o?p+="bg-slate-50 dark:bg-slate-800/50 border-blue-400 border-dashed opacity-80":p+="bg-transparent border-transparent opacity-50 grayscale hover:opacity-80 hover:grayscale-0 hover:bg-slate-50 dark:hover:bg-slate-800/30",e.jsxs("div",{id:`slot-${l.id}`,className:p,children:[a&&e.jsx("div",{className:"absolute left-0 bottom-0 top-0 bg-indigo-50 dark:bg-indigo-900/20 transition-all duration-1000 -z-10 rounded-2xl",style:{width:`${u}%`}}),e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-md ${l.type==="class"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/50 dark:text-indigo-300":"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-300"}`,children:l.name}),e.jsxs("span",{className:`font-mono text-sm font-bold opacity-70 ${r.TEXT_PRIMARY}`,children:[l.start," - ",l.end]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${a?"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/50 dark:text-indigo-400":"bg-slate-100 text-slate-400 dark:bg-slate-800 dark:text-slate-500"}`,children:l.type==="class"?e.jsx(K,{size:20}):e.jsx(Ke,{size:20})}),e.jsx("div",{className:`text-lg font-bold truncate ${a?"text-indigo-600 dark:text-indigo-400":r.TEXT_PRIMARY}`,children:e.jsx(D,{text:b||l.name,isActive:m})})]})]},l.id)})}))),ca=({now:t,schedule:s,activeTimeSlots:n,currentSlot:d,nextSlot:c,is24Hour:m,dayTypes:l,isGlobalZhuyin:a})=>{const o=s[t.getDay()]||{},b=x.useMemo(()=>n.filter(u=>u.type==="class"||u.id==="lunch"),[n]);return e.jsxs("div",{className:`w-80 h-full flex flex-col shadow-2xl z-20 border-r ${r.SURFACE_MAIN} ${r.BORDER_DEFAULT}`,children:[e.jsx(ia,{now:t,is24Hour:m,dayTypes:l}),e.jsx(da,{displaySlots:b,daySchedule:o,currentSlotId:d?.id,nextSlotId:c?.id,now:t,isGlobalZhuyin:a})]})},xa={Megaphone:X,Users:Te,BookOpen:K,Eye:Me,Bell:pe,MessageSquare:$e},ma=({statusMode:t,setSpecialStatus:s,setIsManualEco:n,isFullscreen:d,toggleFullScreen:c,setShowSettings:m,isAutoNapActive:l,onBroadcastClick:a,visibleButtons:o,setShowTools:b,theme:u,cycleTheme:p,showSidebar:i,toggleSidebar:f,isSystemSoundEnabled:j,toggleSystemSound:h,customPresets:k,onCustomBroadcast:M})=>{const[v,N]=x.useState(null);if(x.useEffect(()=>{const g=()=>N(null);return v&&document.addEventListener("click",g),()=>document.removeEventListener("click",g)},[v]),t==="eco"||t==="special"||l)return null;const y=g=>N(w=>w===g?null:g),E=g=>g.filter(w=>o.includes(w.id)),R=()=>u==="system"?e.jsx(Rt,{size:20}):u==="light"?e.jsx(Ne,{size:20}):e.jsx(ue,{size:20}),A=()=>u==="system"?"ç³»çµ±è¨­å®š":u==="light"?"æ·ºè‰²æ¨¡å¼":"æ·±è‰²æ¨¡å¼";return e.jsxs("div",{className:`absolute bottom-6 left-1/2 -translate-x-1/2 px-3 py-2 rounded-2xl shadow-2xl border flex items-center gap-2 whitespace-nowrap z-50 transition-all ${r.SURFACE_GLASS} ${r.BORDER_DEFAULT} max-w-[95vw] overflow-visible no-scrollbar hover:scale-105`,children:[e.jsx("button",{onClick:h,className:`p-2 rounded-xl transition-all hover:-translate-y-1 shrink-0 font-bold flex items-center gap-2 border ${j?"bg-emerald-500 text-white border-emerald-600 shadow-md shadow-emerald-500/30":"bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-transparent"}`,title:j?"å»£æ’­èªžéŸ³ï¼šé–‹å•Ÿ":"å»£æ’­èªžéŸ³ï¼šéœéŸ³",children:j?e.jsx(ge,{size:20}):e.jsx(Lt,{size:20})}),e.jsx("div",{className:"w-px h-6 mx-1 shrink-0 bg-slate-300 dark:bg-slate-600"}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{onClick:g=>{g.stopPropagation(),y("custom_broadcast")},className:`px-3 py-2 rounded-xl font-bold text-white text-sm shadow-sm transition-all hover:-translate-y-1 bg-gradient-to-r from-pink-500 to-rose-500 flex items-center gap-1 ${v==="custom_broadcast"?"ring-2 ring-white ring-opacity-50":""}`,children:[e.jsx(X,{size:16})," è‡ªè¨‚å»£æ’­"]}),v==="custom_broadcast"&&e.jsxs("div",{className:`absolute bottom-full left-0 mb-3 w-56 ${r.SURFACE_GLASS} rounded-2xl shadow-2xl border ${r.BORDER_LIGHT} p-2 flex flex-col gap-1 animate-in slide-in-from-bottom-2 duration-200 origin-bottom z-50`,children:[e.jsx("div",{className:"px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:"å¿«é€Ÿå»£æ’­"}),k&&k.map(g=>{const w=xa[g.icon]||X;return e.jsxs("button",{onClick:()=>M(g),className:`w-full text-left px-3 py-3 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-3 ${r.TEXT_PRIMARY} font-bold`,children:[e.jsx("div",{className:`p-2 rounded-full text-white bg-gradient-to-br ${g.color}`,children:e.jsx(w,{size:14})}),e.jsxs("div",{className:"flex flex-col leading-none gap-1",children:[e.jsx("span",{children:g.name}),e.jsx("span",{className:"text-[10px] opacity-60 font-normal truncate max-w-[100px]",children:g.title})]})]},g.id)}),e.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 my-1"}),e.jsxs("button",{onClick:()=>{a(),N(null)},className:"w-full text-left px-3 py-2 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-2 text-slate-500 dark:text-slate-400 font-bold text-sm",children:[e.jsx(me,{size:14})," ç·¨è¼¯æŒ‰éˆ•è¨­å®š"]})]})]}),e.jsx("div",{className:"w-px h-6 mx-1 shrink-0 bg-slate-300 dark:bg-slate-600"}),ae.singles.filter(g=>o.includes(g.id)).map(g=>e.jsxs("button",{onClick:()=>s(g),className:`px-3 py-2 rounded-xl font-bold text-white text-sm shadow-sm transition-all hover:-translate-y-1 bg-gradient-to-br flex items-center gap-1 ${g.color}`,children:[e.jsx(g.icon,{size:16})," ",g.label]},g.id)),ae.groups.map(g=>{const w=E(g.items);return w.length===0?null:e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{onClick:S=>{S.stopPropagation(),y(g.id)},className:`px-3 py-2 rounded-xl font-bold text-white text-sm shadow-sm transition-all hover:-translate-y-1 flex items-center gap-1 ${g.color} ${v===g.id?"ring-2 ring-white ring-opacity-50":""}`,children:[e.jsx(g.icon,{size:16})," ",g.label]}),v===g.id&&e.jsx("div",{className:`absolute bottom-full left-1/2 -translate-x-1/2 mb-3 w-48 ${r.SURFACE_GLASS} rounded-2xl shadow-2xl border ${r.BORDER_LIGHT} p-2 flex flex-col gap-1 animate-in slide-in-from-bottom-2 duration-200 origin-bottom z-50`,children:w.map(S=>e.jsxs("button",{onClick:()=>s(S),className:`w-full text-left px-3 py-3 rounded-xl hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors flex items-center gap-3 ${r.TEXT_PRIMARY} font-bold`,children:[e.jsx("div",{className:`p-2 rounded-full text-white bg-gradient-to-br ${S.color}`,children:e.jsx(S.icon,{size:14})}),S.label]},S.id))})]},g.id)}),e.jsx("div",{className:"w-px h-6 mx-1 shrink-0 bg-slate-300 dark:bg-slate-600"}),e.jsx("button",{onClick:p,className:`p-2 rounded-xl transition-all hover:-translate-y-1 shrink-0 ${r.BTN_GHOST}`,title:`åˆ‡æ›ä¸»é¡Œ (ç›®å‰ï¼š${A()})`,children:R()}),e.jsx("button",{onClick:f,className:`p-2 rounded-xl transition-all hover:-translate-y-1 shrink-0 ${i?r.BTN_GHOST:"bg-slate-200 dark:bg-slate-700 text-slate-800 dark:text-white"}`,title:i?"éš±è—å´é‚Šæ¬„":"é¡¯ç¤ºå´é‚Šæ¬„",children:e.jsx(Vt,{size:20,className:i?"":"opacity-50"})}),e.jsx("button",{onClick:()=>n(!0),className:`p-2 rounded-xl transition-all hover:-translate-y-1 shrink-0 ${r.BTN_GHOST}`,title:"é€²å…¥çœé›»æ¨¡å¼",children:e.jsx(fs,{size:20})}),e.jsx("button",{onClick:()=>b(!0),className:`p-2 rounded-xl transition-all hover:-translate-y-1 shrink-0 ${r.BTN_GHOST}`,title:"æ•™å®¤å°å·¥å…·",children:e.jsx(et,{size:20})}),e.jsx("button",{onClick:c,className:`p-2 rounded-xl transition-all hover:-translate-y-1 shrink-0 ${r.BTN_GHOST}`,title:d?"é€€å‡ºå…¨èž¢å¹•":"å…¨èž¢å¹•æ¨¡å¼",children:d?e.jsx(It,{size:20}):e.jsx(qt,{size:20})}),e.jsx("button",{onClick:()=>m(!0),className:`p-2 rounded-xl shadow-lg transition-all hover:-translate-y-1 shrink-0 ${r.BTN_PRIMARY}`,children:e.jsx(Qe,{size:20})})]})},ye=({icon:t,title:s,desc:n,colorClass:d,onClick:c})=>e.jsxs("button",{onClick:c,className:`group relative flex flex-col items-center p-6 rounded-2xl border transition-all duration-300 hover:scale-105 active:scale-95 text-left ${r.SURFACE_CARD} ${r.BORDER_DEFAULT} hover:shadow-xl hover:border-transparent`,children:[e.jsx("div",{className:`mb-4 p-4 rounded-full text-white shadow-lg transition-transform group-hover:scale-110 ${d}`,children:e.jsx(t,{size:32})}),e.jsx("h3",{className:`text-lg font-bold mb-1 ${r.TEXT_PRIMARY}`,children:s}),e.jsx("p",{className:`text-xs font-bold ${r.TEXT_MUTED}`,children:n})]}),ua=({isOpen:t,onClose:s,onOpenTool:n})=>{const d=x.useCallback(m=>{m.stopPropagation()},[]);x.useCallback(()=>{s?.()},[s]);const c=x.useCallback(m=>()=>{n?.(m),s?.()},[n,s]);return t?e.jsx("div",{className:"fixed inset-0 z-[200] bg-black/40 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:s,children:e.jsxs("div",{className:`${r.SURFACE_MAIN} w-full max-w-2xl rounded-[2rem] shadow-2xl overflow-hidden border ${r.BORDER_LIGHT} animate-in zoom-in-95 duration-200`,onClick:d,children:[e.jsxs("div",{className:`p-6 border-b flex justify-between items-center ${r.BORDER_LIGHT}`,children:[e.jsxs("h2",{className:`text-2xl font-bold flex items-center gap-3 ${r.TEXT_PRIMARY}`,children:[e.jsx("div",{className:"p-2 bg-indigo-500 text-white rounded-xl shadow-lg shadow-indigo-500/30",children:e.jsx(et,{size:24})}),"æ•™å®¤ç™¾å¯¶ç®±"]}),e.jsx("button",{onClick:s,className:`p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors ${r.TEXT_SECONDARY}`,children:e.jsx(Z,{size:24})})]}),e.jsxs("div",{className:`p-8 grid grid-cols-1 md:grid-cols-3 gap-6 ${r.BACKGROUND}`,children:[e.jsx(ye,{icon:be,title:"å€’æ•¸è¨ˆæ™‚",desc:"è‡ªè¨‚æ™‚é–“ã€éˆ´è²æé†’",colorClass:"bg-gradient-to-br from-blue-400 to-blue-600",onClick:c("timer")}),e.jsx(ye,{icon:Xt,title:"å¹¸é‹æŠ½ç±¤",desc:"éš¨æ©ŸæŠ½é¸å­¸ç”Ÿæˆ–è™Ÿç¢¼",colorClass:"bg-gradient-to-br from-purple-400 to-purple-600",onClick:c("lottery")}),e.jsx(ye,{icon:ge,title:"èª²å ‚éŸ³æ•ˆ",desc:"æŽŒè²ã€å®å’šã€è­¦å‘ŠéŸ³",colorClass:"bg-gradient-to-br from-amber-400 to-orange-500",onClick:c("sound")})]}),e.jsx("div",{className:`p-4 text-center text-xs font-bold ${r.TEXT_MUTED} border-t ${r.BORDER_LIGHT}`,children:"é»žæ“Šå·¥å…·å¾Œå°‡ä»¥æ‡¸æµ®è¦–çª—é–‹å•Ÿï¼Œå¯è‡ªç”±æ‹–æ›³ä½ç½®"})]})}):null},He=[{id:"Megaphone",icon:X,label:"å»£æ’­"},{id:"Users",icon:Te,label:"é›†åˆ"},{id:"BookOpen",icon:K,label:"é–±è®€"},{id:"Eye",icon:Me,label:"è­·çœ¼"},{id:"Bell",icon:pe,label:"é˜è²"},{id:"MessageSquare",icon:$e,label:"è¨Šæ¯"},{id:"AlertTriangle",icon:he,label:"æ³¨æ„"},{id:"Info",icon:We,label:"è³‡è¨Š"},{id:"Star",icon:se,label:"çŽå‹µ"},{id:"Heart",icon:tt,label:"é—œæ‡·"},{id:"Zap",icon:Ze,label:"å¿«è¨Š"}],ha=[{id:"pink",value:"from-pink-500 to-rose-500",label:"ç²‰ç´… (é è¨­)"},{id:"blue",value:"from-blue-500 to-cyan-500",label:"å¤©è— (ä½œæ¯)"},{id:"purple",value:"from-purple-500 to-violet-500",label:"ç´«è‰² (é–±è®€)"},{id:"green",value:"from-green-500 to-emerald-500",label:"ç¿ ç¶  (è­·çœ¼)"},{id:"orange",value:"from-orange-500 to-amber-500",label:"æ©˜é»ƒ (ç”¨é¤)"},{id:"slate",value:"from-slate-500 to-slate-700",label:"ç°é»‘ (å®‰éœ)"},{id:"red",value:"from-red-500 to-red-700",label:"é®®ç´… (ç·Šæ€¥)"}],ba=({isOpen:t,onClose:s,onConfirm:n,customPresets:d,setCustomPresets:c})=>{const[m,l]=x.useState(1),[a,o]=x.useState({name:"",title:"",sub:"",mode:"fullscreen",enableTTS:!1,color:"from-pink-500 to-rose-500",icon:"Megaphone"}),[b,u]=x.useState(!1);x.useEffect(()=>{if(t){const h=d.find(k=>k.id===m);h&&o({name:h.name,title:h.title,sub:h.sub,mode:h.mode||"fullscreen",enableTTS:h.enableTTS||!1,color:h.color||"from-pink-500 to-rose-500",icon:h.icon||"Megaphone"})}},[t,m,d]);const p=()=>{const h=d.map(k=>k.id===m?{...k,...a}:k);return c(h),h},i=()=>{p(),s()},f=()=>{p(),n(a.title,a.sub,{mode:a.mode,enableTTS:a.enableTTS,color:a.color,icon:a.icon}),s()};if(!t)return null;const j=He.find(h=>h.id===a.icon)?.icon||X;return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:h=>h.stopPropagation(),children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden flex flex-col border border-slate-200 dark:border-slate-700 max-h-[90vh] animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/50",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[e.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${a.color} text-white shadow-sm`,children:e.jsx(j,{size:20})}),"è‡ªè¨‚æŒ‰éˆ•è¨­å®šä¸­å¿ƒ"]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-500 dark:text-slate-400 rounded-full transition-colors",children:e.jsx(Z,{size:20})})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsxs("div",{className:"w-48 bg-slate-50 dark:bg-slate-800/30 border-r border-slate-200 dark:border-slate-800 overflow-y-auto p-4 flex flex-col gap-2",children:[e.jsx("span",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-2 px-2",children:"é¸æ“‡æŒ‰éˆ•"}),d.map(h=>e.jsxs("button",{onClick:()=>l(h.id),className:`text-left px-4 py-3 rounded-xl font-bold text-sm transition-all flex items-center gap-3 ${m===h.id?"bg-white dark:bg-slate-700 text-slate-800 dark:text-white shadow-md ring-1 ring-slate-200 dark:ring-slate-600":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:[e.jsx("span",{className:`w-2 h-8 rounded-full bg-gradient-to-b ${h.color} shrink-0`}),e.jsx("div",{className:"flex flex-col truncate",children:e.jsx("span",{children:h.name})})]},h.id))]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-slate-200 dark:scrollbar-thumb-slate-700",children:[e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-400 dark:text-slate-500 uppercase",htmlFor:"broad-name-input",children:"æŒ‰éˆ•é¸å–®åç¨±"}),e.jsx("span",{className:"text-[10px] text-slate-400",children:"é¡¯ç¤ºåœ¨å¿«é€Ÿé¸å–®ä¸Šçš„æ–‡å­—"})]}),e.jsx("input",{id:"broad-name-input",name:"broad-name",value:a.name,onChange:h=>o({...a,name:h.target.value}),className:"w-full p-2 text-sm font-bold border rounded-lg bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700 focus:border-blue-500 outline-none text-slate-700 dark:text-slate-200",placeholder:"ä¾‹å¦‚ï¼šæ”¶å¯¦é©—å™¨æ"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-400 dark:text-slate-500 uppercase mb-1",htmlFor:"broad-title-input",children:"å»£æ’­ä¸»æ¨™é¡Œ"}),e.jsx("input",{id:"broad-title-input",name:"broad-title",value:a.title,onChange:h=>o({...a,title:h.target.value}),className:"w-full p-3 border-2 border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-xl focus:border-pink-500 dark:focus:border-pink-500 focus:outline-none text-lg font-bold text-slate-800 dark:text-white transition-colors",placeholder:"ä¾‹å¦‚ï¼šå…¨ç­é›†åˆ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-400 dark:text-slate-500 uppercase mb-1",htmlFor:"broad-sub-input",children:"å‰¯æ¨™é¡Œ"}),e.jsx("input",{id:"broad-sub-input",name:"broad-sub",value:a.sub,onChange:h=>o({...a,sub:h.target.value}),className:"w-full p-3 border-2 border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 rounded-xl focus:border-pink-500 dark:focus:border-pink-500 focus:outline-none text-slate-800 dark:text-white transition-colors",placeholder:"ä¾‹å¦‚ï¼šè«‹å¸¶æ°´å£ºè‡³èµ°å»Š"})]})]})]}),e.jsx("div",{className:"w-full h-px bg-slate-100 dark:bg-slate-800 my-6"}),e.jsx("fieldset",{children:e.jsxs("div",{className:"mb-6",children:[e.jsx("legend",{className:"block text-xs font-bold text-slate-400 dark:text-slate-500 uppercase mb-3",children:"æŒ‰éˆ•å¤–è§€é¢¨æ ¼"}),e.jsx("div",{className:"flex gap-2 mb-4 overflow-x-visible pb-2 no-scrollbar",children:ha.map(h=>e.jsx("button",{onClick:()=>o({...a,color:h.value}),className:`w-6 h-6 rounded-full bg-gradient-to-br ${h.value} transition-transform hover:scale-110 shrink-0 ${a.color===h.value?"ring-2 ring-offset-2 ring-slate-400 dark:ring-offset-slate-900 scale-110":"opacity-70 hover:opacity-100"}`,title:h.label},h.id))}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:He.map(h=>e.jsx("button",{onClick:()=>o({...a,icon:h.id}),className:`p-2 rounded-lg flex items-center justify-center transition-all ${a.icon===h.id?"bg-slate-100 dark:bg-slate-700 text-blue-600 dark:text-blue-400 ring-2 ring-blue-500/20":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,title:h.label,children:e.jsx(h.icon,{size:20})},h.id))})]})}),e.jsx("div",{className:"w-full h-px bg-slate-100 dark:bg-slate-800 my-6"}),e.jsx("fieldset",{children:e.jsxs("div",{children:[e.jsx("legend",{className:"block text-xs font-bold text-slate-400 dark:text-slate-500 uppercase mb-3",children:"å»£æ’­è¡Œç‚ºè¨­å®š"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-1 rounded-xl flex border border-slate-200 dark:border-slate-700",children:[e.jsxs("button",{onClick:()=>o({...a,mode:"fullscreen"}),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm font-bold transition-all ${a.mode==="fullscreen"?"bg-white dark:bg-slate-700 shadow text-blue-600 dark:text-blue-400":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:[e.jsx(At,{size:16})," å…¨èž¢å¹•"]}),e.jsxs("button",{onClick:()=>o({...a,mode:"marquee"}),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg text-sm font-bold transition-all ${a.mode==="marquee"?"bg-white dark:bg-slate-700 shadow text-purple-600 dark:text-purple-400":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:[e.jsx(Ns,{size:16})," è·‘é¦¬ç‡ˆ"]})]}),e.jsxs("button",{onClick:()=>o({...a,enableTTS:!a.enableTTS}),className:`flex items-center justify-center gap-2 py-2 rounded-xl text-sm font-bold border transition-all ${a.enableTTS?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800":"bg-slate-50 dark:bg-slate-800 text-slate-400 dark:text-slate-500 border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[e.jsx(ge,{size:18,className:a.enableTTS?"animate-pulse":""}),a.enableTTS?"è‡ªå‹•æœ—è®€ï¼šé–‹":"è‡ªå‹•æœ—è®€ï¼šé—œ"]})]})]})})]})]}),e.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/50 flex justify-end gap-3",children:[e.jsxs("button",{onClick:i,className:"px-5 py-3 rounded-xl font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors flex items-center gap-2",children:[e.jsx(Je,{size:18}),"åƒ…å„²å­˜è¨­å®š"]}),e.jsxs("button",{onClick:f,disabled:!a.title,className:"px-6 py-3 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-xl font-bold shadow-lg hover:shadow-xl hover:scale-105 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx(Gt,{size:18,fill:"currentColor"}),"å„²å­˜ä¸¦ç«‹å³ç™¼å¸ƒ"]})]})]})})},pa=({isOpen:t,onClose:s,message:n,setMessage:d})=>{const c=x.useRef(null);x.useEffect(()=>{c.current&&(c.current.style.height="auto",c.current.style.height=c.current.scrollHeight+"px")},[n,t]);const m=n.length>50?"text-xl":n.length>20?"text-2xl":"text-3xl";return t?e.jsx("div",{className:"fixed inset-0 bg-black/40 z-[1000] flex items-center justify-center backdrop-blur-sm",onClick:l=>l.stopPropagation(),children:e.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-2xl w-full max-w-2xl transform transition-all scale-100 flex flex-col gap-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-700",children:"æ–°å¢žä¾¿åˆ©è²¼ç•™è¨€ (å¯æ›è¡Œ)"}),e.jsx("textarea",{ref:c,autoFocus:!0,value:n,onChange:l=>d(l.target.value),className:`w-full font-bold p-4 border-2 border-blue-100 rounded-xl focus:border-blue-500 focus:outline-none resize-none overflow-hidden ${m}`,placeholder:`ä¾‹å¦‚ï¼šè«‹å°‡è¯çµ¡ç°¿äº¤åˆ°è¬›æ¡Œ
è¨˜å¾—å¸¶æ°´å£º`,rows:3,style:{minHeight:"120px",maxHeight:"400px"}}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:s,className:"px-6 py-3 rounded-xl font-bold text-slate-500 hover:bg-slate-100",children:"å®Œæˆ"}),e.jsx("button",{onClick:()=>{d(""),s()},className:"px-6 py-3 rounded-xl font-bold text-red-500 hover:bg-red-50",children:"æ¸…é™¤"})]})]})}):null},ga=({schedule:t,now:s,currentSlot:n,isGlobalZhuyin:d})=>{const c=t[s.getDay()]?.[n?.id]||n?.name;return e.jsx("div",{className:`flex-1 flex items-center justify-center p-8 transition-colors duration-500 ${r.BACKGROUND}`,children:e.jsxs("div",{className:`max-w-5xl w-full rounded-[3rem] shadow-2xl p-16 text-center border-4 relative overflow-hidden ${r.SURFACE_CARD} ${r.BORDER_DEFAULT}`,children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-4 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500"}),e.jsx("div",{className:"mb-8 inline-flex items-center justify-center w-24 h-24 rounded-full mb-6 bg-indigo-50 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400",children:e.jsx(pe,{size:48})}),e.jsx("h1",{className:`text-7xl font-bold mb-8 tracking-tight ${d?"-tracking-widest":"tracking-tight"} ${r.TEXT_PRIMARY}`,children:e.jsx(D,{text:"ä¸Šèª²äº†",isActive:d})}),e.jsxs("div",{className:`text-3xl ${r.TEXT_SECONDARY} mb-12 font-medium`,children:[e.jsx(D,{text:"ç¾åœ¨æ˜¯",isActive:d}),e.jsxs("span",{className:"text-indigo-600 dark:text-indigo-400 font-bold mx-2 text-5xl inline-block align-middle",children:[" ",e.jsx(D,{text:c,isActive:d})]}),e.jsx(D,{text:"çš„æ™‚é–“",isActive:d})]}),e.jsx("div",{className:`rounded-2xl p-8 max-w-2xl mx-auto ${r.BACKGROUND} ${r.BORDER_LIGHT} border`,children:e.jsxs("p",{className:`text-2xl leading-relaxed ${r.TEXT_SECONDARY}`,children:[e.jsx(D,{text:"è«‹æ‹¿å‡ºèª²æœ¬èˆ‡å­¸ç”¨å“",isActive:d}),e.jsx("br",{}),e.jsx(D,{text:"ä¿æŒå®‰éœï¼Œå°ˆå¿ƒè½è¬›",isActive:d})]})})]})})},fa=({progress:t,size:s=300,strokeWidth:n=15,children:d,colorClass:c})=>{const m=(s-n)/2,l=m*2*Math.PI,a=l-t/100*l;return e.jsxs("div",{className:"relative flex items-center justify-center",style:{width:s,height:s},children:[e.jsxs("svg",{className:"transform -rotate-90 w-full h-full",children:[e.jsx("circle",{className:"text-slate-200/30",strokeWidth:n,stroke:"currentColor",fill:"transparent",r:m,cx:s/2,cy:s/2}),e.jsx("circle",{className:`transition-all duration-1000 ease-linear ${c}`,strokeWidth:n,strokeDasharray:l,strokeDashoffset:a,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:m,cx:s/2,cy:s/2})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:d})]})},ja=({title:t,subtext:s,icon:n,centerContent:d,onClose:c})=>e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-30 animate-pulse pointer-events-none"}),e.jsx(se,{className:"absolute top-10 right-20 text-yellow-100 opacity-40 w-4 h-4 animate-ping pointer-events-none"}),e.jsx(se,{className:"absolute bottom-10 left-20 text-yellow-100 opacity-30 w-6 h-6 animate-pulse pointer-events-none"}),e.jsx(se,{className:"absolute top-1/3 left-10 text-blue-200 opacity-20 w-3 h-3 animate-pulse delay-700 pointer-events-none"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center p-8 w-full h-full",children:[e.jsxs("div",{className:"mb-12 flex flex-col items-center",children:[n&&e.jsx(n,{size:80,className:"text-indigo-200 mb-6 drop-shadow-[0_0_15px_rgba(199,210,254,0.5)]"}),e.jsx("h2",{className:"text-6xl font-bold text-indigo-100 tracking-wider mb-4",children:t}),s&&e.jsx("p",{className:"text-2xl text-indigo-300 font-light",children:s})]}),d,c&&e.jsx("button",{onClick:c,className:"absolute top-8 right-8 p-4 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-50 group",title:"å›žåˆ°ä¸»ç•«é¢ (Esc)",children:e.jsx(Z,{size:32,className:"group-hover:scale-110 transition-transform"})})]})]}),va=({statusMode:t,currentSlot:s,now:n,is24Hour:d,progress:c,secondsRemaining:m,nextSubjectName:l,systemHint:a,teacherMessage:o,setIsEditingMessage:b,dismissedNap:u,setDismissedNap:p,isGlobalZhuyin:i})=>{const f=t==="pre-bell",j=s?.name.includes("åˆä¼‘")||s?.id==="nap",h=s?.name.includes("æ”¾å­¸")||s?.id==="after",k=s&&(s.name.includes("æ‰“æŽƒ")||s.id==="cleaning"),M=s&&s.name.includes("åˆé¤"),v=j||h?"text-indigo-400":f?"text-red-500":c>50?"text-emerald-500":"text-amber-400",N=y=>`${Math.floor(y/60)}:${y%60<10?"0":""}${y%60}`;if((j||h)&&!u){const y=j?"åˆä¼‘æ™‚é–“":"æ”¾å­¸æ™‚é–“",E=j?"Shhh... è«‹ä¿æŒå®‰éœï¼Œå¥½å¥½ä¼‘æ¯":"è«‹æ”¶æ‹¾æ›¸åŒ…ï¼Œæº–å‚™å›žå®¶",R=j?ue:st;return e.jsx(ja,{title:e.jsx(D,{text:y,isActive:i}),subtext:e.jsx(D,{text:E,isActive:i}),icon:R,onClose:()=>p(!0),centerContent:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"text-8xl font-mono font-bold text-slate-200 drop-shadow-2xl",children:n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!d})}),e.jsxs("div",{className:"mt-8 bg-white/10 backdrop-blur-md px-8 py-4 rounded-full border border-white/10 text-indigo-200",children:[e.jsx("span",{className:"mr-4",children:j?"ðŸ’¤":"ðŸ "}),e.jsx(D,{text:a,isActive:i})]})]})})}return e.jsx("div",{className:`flex-1 relative overflow-hidden transition-colors duration-1000 ${f?"bg-red-50 dark:bg-red-900/20":r.BACKGROUND}`,children:e.jsxs("div",{className:"h-full flex flex-col relative z-10",children:[e.jsx("div",{className:"flex justify-between items-start p-8",children:e.jsxs("div",{className:`px-6 py-3 rounded-2xl shadow-sm border backdrop-blur-sm ${r.SURFACE_GLASS} ${r.BORDER_LIGHT}`,children:[e.jsx("span",{className:`font-bold mr-2 ${r.TEXT_SECONDARY}`,children:"ç›®å‰æ™‚æ®µ"}),e.jsx("span",{className:`text-2xl font-bold ${r.TEXT_PRIMARY}`,children:e.jsx(D,{text:s?.name,isActive:i})})]})}),e.jsxs("div",{className:"flex-1 flex flex-col md:flex-row items-center justify-center gap-12 px-8 pb-8",children:[e.jsx("div",{className:`relative transition-all duration-500 ${f?"scale-110":""}`,children:e.jsx(fa,{progress:c,size:400,strokeWidth:24,colorClass:v,children:e.jsxs("div",{className:"text-center flex flex-col items-center",children:[e.jsxs("div",{className:`absolute -top-24 px-8 py-3 rounded-full shadow-lg border-2 flex items-center gap-4 transform hover:scale-105 transition-transform z-20 ${r.SURFACE_GLASS} ${r.BORDER_LIGHT}`,children:[e.jsx("span",{className:`text-lg font-bold uppercase tracking-wider ${r.TEXT_MUTED}`,children:"NEXT"}),e.jsxs("div",{className:"flex items-center gap-2 text-4xl font-bold text-indigo-600 dark:text-indigo-400",children:[e.jsx(Bt,{size:32,strokeWidth:3})," ",e.jsx(D,{text:l,isActive:i})]})]}),e.jsx("div",{className:`text-[7rem] font-bold font-mono tracking-tighter leading-none ${f?"text-red-600 animate-pulse":r.TEXT_PRIMARY}`,children:N(m)}),e.jsx("div",{className:"text-slate-400 font-medium mt-2 tracking-widest uppercase",children:f?e.jsx(D,{text:"é å‚™é˜éŸ¿",isActive:i}):"REMAINING"})]})})}),e.jsxs("div",{className:"max-w-xl w-full flex flex-col gap-6",children:[o?e.jsxs("div",{onClick:()=>b(!0),className:"bg-yellow-200 p-6 shadow-lg transform rotate-1 hover:rotate-0 transition-transform cursor-pointer relative group",style:{fontFamily:"cursive, sans-serif"},children:[e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 w-32 h-8 bg-yellow-300/50 backdrop-blur-sm rotate-1"}),e.jsxs("div",{className:"flex justify-between items-start mb-2 opacity-50",children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-yellow-800",children:"MEMO"}),e.jsx(me,{size:16,className:"text-yellow-700 opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsx("p",{className:`font-bold text-slate-800 leading-snug break-words whitespace-pre-wrap ${o.length>50?"text-2xl":"text-3xl"}`,children:o})]}):!f&&e.jsxs("button",{onClick:()=>b(!0),className:"group flex items-center justify-center gap-2 p-4 rounded-2xl border-2 border-dashed transition-all border-slate-300 hover:border-yellow-400 hover:bg-yellow-50 dark:border-slate-600 dark:hover:border-yellow-600 dark:hover:bg-yellow-900/20",children:[e.jsx(me,{className:"group-hover:text-yellow-600 text-slate-400 dark:text-slate-500"}),e.jsx("span",{className:"font-bold group-hover:text-yellow-700 text-slate-400 dark:text-slate-500",children:"æ–°å¢žä¾¿åˆ©è²¼ç•™è¨€"})]}),e.jsxs("div",{className:`backdrop-blur-xl p-8 rounded-3xl shadow-xl border transform transition-all duration-500 ${f?"opacity-50 blur-[2px] scale-95":"opacity-100 scale-100"} ${r.SURFACE_GLASS} ${r.BORDER_LIGHT}`,children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-2xl text-blue-600",children:e.jsx(K,{size:32})}),e.jsx("div",{className:"text-lg text-slate-500 font-bold",children:e.jsx(D,{text:k?"æ‰“æŽƒæé†’":M?"ç”¨é¤æé†’":"è«‹æº–å‚™",isActive:i})})]}),e.jsx("div",{className:`text-3xl font-bold leading-normal ${r.TEXT_PRIMARY}`,children:e.jsx(D,{text:a,isActive:i})})]})]})]}),f&&e.jsx("div",{className:"bg-red-600 text-white p-8 rounded-3xl shadow-2xl border-4 border-red-400 animate-bounce-subtle flex items-center justify-center text-center absolute bottom-12 left-1/2 -translate-x-1/2 z-30",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-4xl font-bold mb-2",children:e.jsx(D,{text:"è«‹å›žåº§ä½",isActive:i})}),e.jsx("p",{className:"text-xl opacity-90",children:e.jsx(D,{text:"éœå€™è€å¸«ä¸Šèª²",isActive:i})})]})})]})})},qe={galaxy:{bg:"#020617",milkyWay:["rgba(140, 190, 255, 0.12)","rgba(210, 180, 255, 0.08)","rgba(170, 210, 255, 0.05)"],starColors:["#CFE8FF","#FFFFFF","#FFE9C4"],meteorColor:"rgba(255, 255, 255, 0.95)",rotation:-35},deep:{bg:"#000000",milkyWay:["rgba(50, 50, 50, 0.1)","rgba(20, 20, 50, 0.05)","transparent"],starColors:["#FFFFFF","#D1D5DB","#9CA3AF"],meteorColor:"rgba(200, 220, 255, 0.8)",rotation:-20},warm:{bg:"#0c0a09",milkyWay:["rgba(255, 180, 100, 0.08)","rgba(255, 120, 50, 0.05)","rgba(255, 230, 150, 0.04)"],starColors:["#FFEDD5","#FEF3C7","#FFFFFF"],meteorColor:"#FFEDD5",rotation:-45},lavender:{bg:"#080510",milkyWay:["rgba(168, 85, 247, 0.15)","rgba(192, 132, 252, 0.1)","rgba(232, 213, 255, 0.05)"],starColors:["#F5F3FF","#E9D5FF","#DDD6FE","#FFFFFF"],meteorColor:"#E9D5FF",rotation:-30}},Ge=(t,s,n,d)=>Array.from({length:t}).map(()=>({x:Math.random()*100,y:Math.random()*100,size:s[0]+Math.random()*(s[1]-s[0]),opacity:n[0]+Math.random()*(n[1]-n[0]),duration:3+Math.random()*7,color:d[Math.floor(Math.random()*d.length)]})),Ve=({stars:t})=>e.jsx("div",{className:"absolute inset-0",children:t.map((s,n)=>e.jsx("span",{style:{position:"absolute",left:`${s.x}%`,top:`${s.y}%`,width:s.size,height:s.size,backgroundColor:s.color,opacity:s.opacity,borderRadius:"50%",animation:`twinkle ${s.duration}s ease-in-out infinite`,boxShadow:`0 0 ${s.size*1.5}px ${s.color}`}},n))}),ka=({color:t,angle:s=-35,minGap:n=2e3,maxGap:d=1e4,burstChance:c=.2,burstMin:m=2,burstMax:l=3})=>{const[a,o]=x.useState([]);return x.useEffect(()=>{let b=!0;const u=new Set,p=v=>u.add(v),i=()=>{for(const v of u)clearTimeout(v);u.clear()},f=[{name:"dim",weight:.5,head:1.5,tail:20,glow:.2},{name:"normal",weight:.3,head:2.2,tail:50,glow:.5},{name:"bright",weight:.2,head:3.5,tail:90,glow:1}],j=()=>{const v=f.reduce((y,E)=>y+E.weight,0);let N=Math.random()*v;for(const y of f)if(N-=y.weight,N<=0)return y;return f[0]},h=(v={})=>{if(!b)return;const N=j(),y=.8+Math.random()*.4,E=Math.random().toString(36).slice(2),R=typeof v.left=="number"?v.left:Math.random()*100,A=typeof v.top=="number"?v.top:-100-Math.random()*100,g=1.2+Math.random()*1,w=600+Math.random()*500;o(C=>[...C,{id:E,left:R,top:A,duration:g,travel:w,tier:N,lum:y}]);const S=setTimeout(()=>{o(C=>C.filter(B=>B.id!==E)),u.delete(S)},g*1e3+100);p(S)},k=()=>{if(!b)return;if(Math.random()<c){const E=m+Math.floor(Math.random()*(l-m+1)),R=Math.random()*100,A=-100-Math.random()*50;for(let g=0;g<E;g++){const w=150+Math.random()*400,S=setTimeout(()=>{h({left:Math.min(100,Math.max(0,R+(Math.random()-.5)*20)),top:A+(Math.random()-.5)*30}),u.delete(S)},g*w);p(S)}}else h();const N=n+Math.random()*(d-n),y=setTimeout(()=>{k(),u.delete(y)},N);p(y)},M=setTimeout(k,500);return p(M),()=>{b=!1,i()}},[t,n,d,c,m,l]),e.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{transform:`rotate(${s}deg)`},children:a.map(b=>e.jsx("span",{className:"meteor",style:{left:`${b.left}%`,top:`${b.top}px`,width:`${b.tier.head}px`,height:`${b.tier.head}px`,animationDuration:`${b.duration}s`,"--travel":`${b.travel}px`,"--meteorColor":t,"--tailLen":`${b.tier.tail}px`,"--lum":b.lum}},b.id))})},_e=({theme:t="galaxy",customStarCount:s,isWaking:n=!1})=>{const d=qe[t]||qe.galaxy,[c,m]=x.useState({x:0,y:0});x.useEffect(()=>{const o=b=>{const u=b.clientX/window.innerWidth-.5,p=b.clientY/window.innerHeight-.5;m({x:u,y:p})};return window.addEventListener("mousemove",o),()=>window.removeEventListener("mousemove",o)},[]);const l=x.useMemo(()=>Ge(s||120,[.5,1],[.15,.45],d.starColors),[t,s]),a=x.useMemo(()=>Ge(30,[1.5,2.2],[.5,.9],d.starColors),[t]);return e.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 transition-opacity duration-1000 ${n?"opacity-0":"opacity-100"}`,style:{backgroundColor:d.bg},children:[e.jsxs("div",{className:`w-full h-full transition-transform duration-700 ease-in-out ${n?"scale-[1.5] blur-md":"scale-100"}`,children:[e.jsx("div",{className:"absolute inset-0 opacity-80 transition-transform duration-1000 ease-out",style:{background:`
              radial-gradient(60% 40% at 30% 35%, ${d.milkyWay[0]}, transparent 60%),
              radial-gradient(50% 30% at 70% 35%, ${d.milkyWay[1]}, transparent 60%),
              linear-gradient(115deg, transparent 0%, ${d.milkyWay[2]} 50%, transparent 100%)
            `,filter:"blur(15px)",transform:`rotate(${d.rotation}deg) scale(1.2) translate(${c.x*10}px, ${c.y*10}px)`}}),e.jsx("div",{className:"absolute inset-0 transition-transform duration-700 ease-out",style:{transform:`translate(${c.x*30}px, ${c.y*30}px)`},children:e.jsx(Ve,{stars:l})}),e.jsx("div",{className:"absolute inset-0 transition-transform duration-500 ease-out",style:{transform:`translate(${c.x*60}px, ${c.y*60}px)`},children:e.jsx(Ve,{stars:a})})]}),!n&&e.jsx(ka,{color:d.meteorColor,angle:d.rotation}),e.jsx("style",{children:`
        @keyframes twinkle {
          0%, 100% { opacity: 0.3; transform: scale(1); }
          50% { opacity: 1; transform: scale(1.1); }
        }

        .meteor {
          position: absolute;
          border-radius: 50%;
          background: var(--meteorColor);
          opacity: 0;
		  animation: meteor-fly 1 ease-in;
		  filter: drop-shadow(0 0 8px rgba(255,255,255,var(--glow, 0.4)));
		  will-change: transform, opacity;

        }

        .meteor::before {
          content: "";
          position: absolute;
          top: 50%;
          left: 50%;
          width: 2px; 
          /* å°¾å·´é•·åº¦å‹•æ…‹è¨ˆç®—ï¼šåŸºç¤Žé•·åº¦ * äº®åº¦ä¿‚æ•¸ */
          height: calc(var(--tailLen) * var(--lum));
		  transform: translateX(-50%) translateY(-100%) scaleY(0.1);
		  background: linear-gradient(
			to top,
			rgba(255,255,255, calc(0.85 * var(--lum, 1))),
			rgba(255,255,255, 0.25),
			rgba(255,255,255, 0)
		  );
		  filter: blur(0.25px);

		  animation: meteor-tail 1 ease-out;
		  animation-duration: inherit;
		  animation-iteration-count: 1;
        }

        @keyframes meteor-fly {
          0% {
            transform: translateY(0);
            opacity: 0;
          }
          10% {
            opacity: 1;
          }
          80% {
            opacity: 1;
          }
          100% {
            transform: translateY(var(--travel));
            opacity: 0;
          }
        }
		
		@keyframes meteor-tail {
		  0%   { opacity: 0; transform: translateX(-50%) translateY(-100%) scaleY(0.1); }
		  15%  { opacity: 1; transform: translateX(-50%) translateY(-100%) scaleY(calc(var(--tailScale, 1.2) * 1.2)); }
		  60%  { opacity: 0.8; transform: translateX(-50%) translateY(-100%) scaleY(calc(var(--tailScale, 1.2) * 0.8)); }
		  100% { opacity: 0; transform: translateX(-50%) translateY(-100%) scaleY(0.1); }
		}
      `})]})},ya=t=>t===0?e.jsx(Ne,{size:36,className:"text-amber-500 animate-pulse-slow"}):t>=1&&t<=3?e.jsx(is,{size:36,className:"text-slate-400"}):[45,48].includes(t)?e.jsx(ts,{size:36,className:"text-slate-300"}):t>=51&&t<=67?e.jsx(Le,{size:36,className:"text-blue-400"}):t>=71&&t<=77?e.jsx(Ss,{size:36,className:"text-cyan-300"}):t>=80&&t<=82?e.jsx(Le,{size:36,className:"text-blue-500"}):t>=95?e.jsx(as,{size:36,className:"text-yellow-400"}):e.jsx(Ne,{size:36,className:"text-amber-500"}),De=({weatherConfig:t})=>{const[s,n]=x.useState(null),[d,c]=x.useState(!0);return x.useEffect(()=>{const m=async()=>{if(!(!t?.lat||!t?.lon))try{c(!0);const o=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${t.lat}&longitude=${t.lon}&current=temperature_2m,weather_code,apparent_temperature&daily=precipitation_probability_max,uv_index_max&timezone=auto`)).json();o.current&&o.daily&&n({temp:Math.round(o.current.temperature_2m),feel:Math.round(o.current.apparent_temperature),code:o.current.weather_code,rainChance:o.daily.precipitation_probability_max[0],uv:o.daily.uv_index_max[0]})}catch(a){console.error("Weather fetch failed",a)}finally{c(!1)}};m();const l=setInterval(m,18e5);return()=>clearInterval(l)},[t]),d?e.jsx("div",{className:`animate-pulse w-48 h-20 rounded-2xl ${r.SURFACE_GLASS}`}):s?e.jsxs("div",{className:`flex items-center gap-5 px-6 py-4 rounded-3xl border backdrop-blur-md shadow-lg transition-all hover:scale-105 group ${r.SURFACE_GLASS} ${r.BORDER_LIGHT}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"filter drop-shadow-md",children:ya(s.code)}),e.jsxs("div",{children:[e.jsxs("div",{className:`text-3xl font-black leading-none tracking-tight ${r.TEXT_PRIMARY}`,children:[s.temp,"Â°"]}),e.jsxs("div",{className:`text-base font-bold mt-1 ${r.TEXT_SECONDARY} opacity-80`,children:["é«”æ„Ÿ ",s.feel,"Â°"]})]})]}),e.jsx("div",{className:"w-px h-10 bg-slate-200 dark:bg-slate-700 mx-1"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-base font-bold text-blue-600 dark:text-blue-400",children:[e.jsx(Bs,{size:14}),e.jsxs("span",{children:["é™é›¨ ",s.rainChance,"%"]})]}),e.jsxs("div",{className:`flex items-center gap-2 text-base font-bold ${s.uv>7?"text-red-500":"text-amber-600 dark:text-amber-400"}`,children:[e.jsx(Ds,{size:14}),e.jsxs("span",{children:["UV ",s.uv]})]}),e.jsxs("div",{className:`flex items-center gap-1 text-[10px] font-bold ${r.TEXT_MUTED} mt-1 opacity-60`,children:[e.jsx(Ce,{size:10}),e.jsx("span",{className:"max-w-[80px] truncate",children:t.district||t.city})]})]})]}):null},Na=t=>{let s=t.getFullYear(),n=t.getMonth()+1,d=t.getDate(),c=0,m=0,l=0,a=0;n<3&&(s--,n+=12),++n,c=365.25*s,m=30.6*n,l=c+m+d-694039.09,a=l/29.5305882,a-=parseInt(a),a*=29.5305882,a=Math.round(a),a>=30&&(a=0);const o=[{name:"æ–°æœˆ (New Moon)",icon:"moon-off"},{name:"çœ‰æœˆ (Waxing Crescent)",icon:"moon"},{name:"ä¸Šå¼¦æœˆ (First Quarter)",icon:"moon"},{name:"ç›ˆå‡¸æœˆ (Waxing Gibbous)",icon:"moon"},{name:"æ»¿æœˆ (Full Moon)",icon:"circle"},{name:"è™§å‡¸æœˆ (Waning Gibbous)",icon:"moon"},{name:"ä¸‹å¼¦æœˆ (Last Quarter)",icon:"moon"},{name:"æ®˜æœˆ (Waning Crescent)",icon:"moon"}];return a===0?o[0]:a<=6?o[1]:a===7?o[2]:a<=14?o[3]:a===15?o[4]:a<=22?o[5]:a===23?o[6]:o[7]},wa=({now:t,is24Hour:s,onWake:n,weatherConfig:d})=>{const[c,m]=x.useState(!1),[l,a]=x.useState(!1),[o,b]=x.useState({x:0,y:0}),[u,p]=x.useState({level:100,charging:!1}),i=x.useRef(null),f=x.useMemo(()=>Na(t),[t.getDate()]);x.useEffect(()=>{const h=()=>{a(!1),i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{a(!0)},3e3)};return h(),window.addEventListener("mousemove",h),()=>{window.removeEventListener("mousemove",h),i.current&&clearTimeout(i.current)}},[]),x.useEffect(()=>{const h=()=>{const N=Math.floor(Math.random()*10)-5,y=Math.floor(Math.random()*10)-5;b({x:N,y})},k=setInterval(h,6e4);h();let M=null;const v=()=>{M&&p({level:Math.round(M.level*100),charging:M.charging})};return"getBattery"in navigator&&navigator.getBattery().then(N=>{M=N,v(),N.addEventListener("levelchange",v),N.addEventListener("chargingchange",v)}),()=>{clearInterval(k),M&&(M.removeEventListener("levelchange",v),M.removeEventListener("chargingchange",v))}},[]);const j=()=>{m(!0),setTimeout(()=>n(),700)};return e.jsxs("div",{onClick:j,className:`h-full w-full flex flex-col items-center justify-center bg-slate-950 relative overflow-hidden group select-none 
        ${l?"cursor-none":"cursor-pointer"}`,children:[e.jsx("div",{className:"absolute inset-0 z-0",children:e.jsx(_e,{theme:"deep",isWaking:c})}),e.jsxs("div",{className:`absolute bottom-12 flex items-center gap-2 text-slate-400 font-bold bg-slate-900/50 px-4 py-2 rounded-full border border-slate-700 transition-opacity duration-500
        ${l?"opacity-0":"opacity-0 group-hover:opacity-100"}`,children:[e.jsx(ks,{size:16,className:"animate-bounce"}),"é»žæ“Šç•«é¢å–šé†’ç³»çµ±"]}),e.jsxs("div",{className:`relative z-10 flex flex-col items-center transition-all duration-1000 ease-in-out 
          ${c?"opacity-0 scale-95 blur-md":"opacity-100"}`,style:{transform:`translate(${o.x}px, ${o.y}px)`},children:[e.jsx("div",{className:`flex flex-col items-center transition-opacity duration-1000 delay-100
          ${l?"opacity-0":"opacity-100"}`,children:e.jsx("div",{className:"p-8 rounded-full bg-indigo-950/20 border border-indigo-500/10 shadow-[0_0_50px_rgba(79,70,229,0.15)] mb-6",children:f.icon==="circle"?e.jsx(Wt,{size:80,className:"text-indigo-200 fill-indigo-100/20 drop-shadow-[0_0_25px_rgba(165,180,252,0.6)]"}):e.jsx(ue,{size:80,className:"text-indigo-300/80 drop-shadow-[0_0_15px_rgba(165,180,252,0.3)]"})})}),e.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[e.jsx("div",{className:`text-[8rem] font-black leading-none text-slate-200 tracking-tighter drop-shadow-2xl font-mono transition-opacity duration-1000
              ${l?"opacity-40":"opacity-90"}`,children:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!s})}),e.jsxs("div",{className:`flex flex-col items-center gap-4 transition-all duration-1000
              ${l?"opacity-0 translate-y-4":"opacity-100 translate-y-0"}`,children:[e.jsxs("div",{className:"flex items-center gap-4 text-slate-500 font-medium tracking-widest text-sm uppercase",children:[e.jsx("span",{children:f.name}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-600"}),e.jsxs("div",{className:`flex items-center gap-2 ${u.level<20&&!u.charging?"text-red-400":"text-emerald-400"}`,children:[u.charging?e.jsx(Zt,{size:16}):e.jsx(Jt,{size:16}),e.jsxs("span",{children:[u.level,"%"]})]})]}),d?.enabled&&e.jsx("div",{className:"dark mt-2 transform scale-110 opacity-80",children:e.jsx(De,{weatherConfig:d})})]})]})]})]})},Ta=({now:t,is24Hour:s,weatherConfig:n})=>{const d=l=>{const a=l.getFullYear()-1911,o=["æ—¥","ä¸€","äºŒ","ä¸‰","å››","äº”","å…­"][l.getDay()];return`æ°‘åœ‹${a}å¹´${(l.getMonth()+1).toString().padStart(2,"0")}æœˆ${l.getDate().toString().padStart(2,"0")}æ—¥ æ˜ŸæœŸ${o}`},[c,m]=x.useState("galaxy");return e.jsxs("div",{className:"flex-1 bg-slate-900 relative overflow-hidden flex flex-col items-center justify-center p-8 transition-colors duration-1000",children:[e.jsx("div",{className:"absolute inset-0 z-0 ",children:e.jsx(_e,{theme:c})}),e.jsxs("div",{className:"text-center z-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-xl text-blue-300 font-medium mb-2 tracking-widest uppercase",children:"Off-Hours"}),e.jsx("h2",{className:"text-6xl font-bold text-white tracking-tight drop-shadow-lg",children:"éžä¸Šèª²æ™‚æ®µ"})]}),e.jsx("div",{className:"font-mono text-[8rem] leading-none text-slate-200 font-bold drop-shadow-2xl",children:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!s})}),e.jsx("div",{className:"text-2xl text-slate-400 mt-4 font-light",children:d(t)}),n?.enabled&&e.jsx("div",{className:"dark mt-8 transform scale-120 origin-top opacity-80 hover:opacity-100 transition-opacity",children:e.jsx(De,{weatherConfig:n})})]})]})},$a=({specialStatus:t,onClose:s,now:n,is24Hour:d,subjectHints:c,isSystemSoundEnabled:m,isGlobalZhuyin:l})=>{const{speak:a,cancel:o}=Ee();if(x.useEffect(()=>{if(t&&m){const i=t.sub?`${t.message}ã€‚${t.sub}`:t.message;a(i,"general",.9)}return()=>o()},[t,m,a,o]),!t)return null;const b=t.icon,u=t.showZhuyin||l,p=["nap","morning_reading","quiet"].includes(t.id);return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center animate-in fade-in duration-500 cursor-pointer",onClick:s,children:[p?e.jsx("div",{className:"absolute inset-0 bg-slate-950",children:e.jsx(_e,{})}):e.jsx("div",{className:"absolute inset-0 bg-slate-900/90 backdrop-blur-md",children:e.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[80vw] h-[80vw] bg-gradient-to-r ${t.color||"from-blue-600 to-indigo-600"} rounded-full blur-[100px] opacity-20 pointer-events-none`})}),e.jsxs("div",{className:`relative max-w-5xl w-full mx-4 rounded-[3rem] shadow-2xl overflow-hidden border border-white/10 ${p?"bg-black/20 backdrop-blur-sm":"bg-black/40 backdrop-blur-xl"} cursor-auto`,onClick:i=>i.stopPropagation(),children:[e.jsx("div",{className:`h-4 w-full bg-gradient-to-r ${t.color||"from-blue-500 to-indigo-500"}`}),e.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-16 md:p-24 relative",children:[e.jsx("button",{onClick:s,className:"absolute top-8 right-8 p-3 rounded-full bg-white/5 hover:bg-white/10 text-white/70 hover:text-white transition-all border border-white/5 z-20",children:e.jsx(Z,{size:28})}),m&&e.jsxs("div",{className:"absolute top-8 left-8 px-4 py-2 rounded-full bg-white/5 border border-white/5 text-white/50 flex items-center gap-2 text-sm font-bold",children:[e.jsx(ge,{size:16})," ç‹€æ…‹å»£æ’­ä¸­"]}),b&&e.jsx("div",{className:`mb-10 p-8 rounded-full bg-gradient-to-br ${t.color||"from-blue-500 to-indigo-500"} shadow-[0_0_50px_rgba(0,0,0,0.5)] animate-bounce-slow`,children:e.jsx(b,{size:80,className:"text-white drop-shadow-md"})}),e.jsx("h1",{className:"text-[6rem] font-black mb-6 leading-none text-transparent bg-clip-text bg-gradient-to-br from-white to-slate-300 drop-shadow-sm tracking-tight",children:e.jsx(D,{text:t.message,isActive:u})}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-indigo-100/90 leading-relaxed max-w-3xl",children:e.jsx(D,{text:t.sub,isActive:u})}),!t.sub&&c&&e.jsx("div",{className:"mt-8 text-xl text-slate-400 font-medium border border-white/10 px-6 py-2 rounded-full",children:n.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!d})})]})]}),e.jsx("div",{className:"absolute bottom-8 text-white/20 text-sm font-bold tracking-widest uppercase hover:text-white/40 transition-colors z-20",children:"Click background to close"})]})},Ea=({message:t,sub:s,onClose:n,color:d,isGlobalZhuyin:c,showZhuyin:m})=>{const l=m||c,a=s?`${t}ï¼š${s}`:t,{speak:o,cancel:b}=Ee(),u=x.useMemo(()=>{const f=15+(a?a.length:0)*.4;return Math.max(20,f)},[a]);x.useEffect(()=>(a&&o(a,"general",.9),()=>b()),[a,o,b]);const p=()=>e.jsx("div",{className:"flex items-center py-2",children:e.jsx(D,{text:a,isActive:l})});return e.jsxs("div",{className:`absolute top-0 left-0 right-0 z-[60] h-16 sm:h-20 shadow-xl flex items-center bg-gradient-to-r ${d||"from-blue-600 to-indigo-700"} text-white overflow-hidden`,children:[e.jsxs("div",{className:"flex items-center gap-3 px-4 sm:px-6 h-full bg-black/20 z-20 shrink-0 backdrop-blur-sm border-r border-white/10 relative",children:[e.jsx(X,{className:"animate-pulse",size:28}),e.jsx("span",{className:"font-bold text-lg tracking-widest uppercase hidden md:block",children:"æ•™å®¤å»£æ’­"})]}),e.jsx("div",{className:"flex-1 min-w-0 relative h-full flex items-center group",children:e.jsx("div",{className:"flex w-max absolute left-0 font-bold text-3xl sm:text-4xl text-white group-hover:[animation-play-state:paused] tracking-wide",style:{animation:`marquee ${u}s linear infinite`},children:e.jsx(p,{})})}),e.jsx("div",{className:"z-20 px-3 h-full flex items-center bg-black/20 backdrop-blur-sm border-l border-white/10 shrink-0 relative",children:e.jsx("button",{onClick:n,className:"p-3 hover:bg-white/20 rounded-full transition-colors",title:"é—œé–‰å»£æ’­",children:e.jsx(Z,{size:28})})}),e.jsx("style",{children:`
        @keyframes marquee {
          0% { transform: translateX(100vw); }
          100% { transform: translateX(-100%); }
        }
        /* ç§»é™¤åŽŸæœ¬å¯«æ­»çš„ .animate-marqueeï¼Œæ”¹ç”¨ä¸Šæ–¹ style å‹•æ…‹æ³¨å…¥ */
      `})]})},Ma={Megaphone:X,Users:Te,BookOpen:K,Eye:Me,Bell:pe,MessageSquare:$e,Star:se,Heart:tt,AlertTriangle:he,Info:We,Zap:Ze},Sa=V.memo(De),Ca=V.memo(ma),_a=V.memo(ca),Da=V.memo(na),Ra=V.memo(Ea),Xa=({theme:t,cycleTheme:s})=>{const{isGlobalZhuyin:n}=zt(),{classes:d,currentClassId:c,currentClass:m}=Ft(),[l,a]=U("timeSlots",Oe),[o,b]=U("schedule",Ue),[u,p]=U("subjectHints",Pe),[i,f]=U("is24Hour",!0),[j,h]=U("dayTypes",Xe),[k,M]=U("customPresets",qs),[v,N]=U("visibleButtons",()=>[...ae.singles.map(T=>T.id),...ae.groups.flatMap(T=>T.items.map(te=>te.id))]),[y,E]=U("weatherConfig",Hs),[R,A]=U("teacherMessage",""),[g,w]=x.useState(!1),[S,C]=x.useState(!1),[B,L]=x.useState(!1),[Q,I]=x.useState(!1),[le,re]=x.useState(0),[J,ne]=U("showSidebar",!0),[ee,O]=U("isSystemSoundEnabled",!1),[z,H]=x.useState(null),[fe,je]=x.useState(!1),[at,Re]=x.useState(!1),[oe,Ae]=x.useState(!1),[ve,lt]=x.useState({timer:!1,lottery:!1,sound:!1}),{now:q,statusMode:_,currentSlot:F,nextSlot:ie,progress:rt,secondsRemaining:nt,activeTimeSlots:ot}=Gs({timeSlots:l,dayTypes:j,specialStatus:z,isManualEco:fe,isAutoEcoOverride:at,timeOffset:le}),it=x.useMemo(()=>({isEditingMessage:g,showSettings:S,showBroadcastInput:Q}),[g,S,Q]),dt=x.useCallback(()=>{C(!1),L(!1),I(!1),H(null),w(!1),_==="break"&&!oe&&Ae(!0)},[_,oe]),de=Ee(),{isFullscreen:ct,toggleFullScreen:xt}=Vs({specialStatus:z,isSystemSoundEnabled:ee,uiState:it,onCloseUI:dt,tts:de}),mt=F?.name.includes("åˆä¼‘")||F?.id==="nap",ut=F?.name.includes("æ”¾å­¸")||F?.id==="after",ht=(mt||ut)&&!oe&&_==="break",ze=()=>{if(!ie)return"æ”¾å­¸";const T=o[q.getDay()];return T?T[ie.id]||ie.name:"ç„¡èª²è¡¨"},bt=()=>{if(F&&(F.name.includes("æ‰“æŽƒ")||F.id==="cleaning"))return u.å…¨å¤©æ‰“æŽƒ||u.æ‰“æŽƒæ™‚é–“||"è«‹æ‹¿èµ·æŽƒå…·ï¼ŒèªçœŸæ‰“æŽƒç’°å¢ƒï¼Œä¿æŒæ•´æ½”";if(F&&(F.name.includes("åˆé¤")||F.name.includes("åˆä¼‘")||F.name.includes("æ”¾å­¸")))return u[F.name]||"è«‹ä¿æŒå®‰éœ";const T=ze();return u[T]||u.default},ce=(T,te)=>lt(P=>({...P,[T]:te})),ke=x.useCallback((T,te,P)=>{const Tt=P.icon&&typeof P.icon=="string"?Ma[P.icon]||X:X;H({message:T,sub:te,color:P.color||"from-pink-500 to-rose-500",type:"input",id:Date.now(),icon:Tt,mode:P.mode,showZhuyin:P.showZhuyin,enableTTS:P.enableTTS??!0})},[]),pt=x.useCallback(T=>{ke(T.title,T.sub,{mode:T.mode,enableTTS:T.enableTTS,color:T.color,icon:T.icon,showZhuyin:T.showZhuyin})},[ke]),gt=x.useCallback(()=>I(!0),[]),ft=x.useCallback(()=>{ne(T=>!T)},[ne]),jt=x.useCallback(()=>{O(T=>!T)},[O]),vt=x.useMemo(()=>{if(!m?.attendanceRecords)return{};const T=new Date().toLocaleDateString("en-CA");return m.attendanceRecords[T]||{}},[m?.attendanceRecords]),kt=x.useCallback(()=>C(!1),[]),yt=x.useCallback(()=>L(!1),[]),Nt=x.useCallback(()=>I(!1),[]),wt=x.useCallback(()=>w(!1),[]),Fe=x.useRef(_);return x.useEffect(()=>{Fe.current!=="class"&&_==="class"&&z?.mode==="marquee"&&(H(null),de.cancel()),Fe.current=_},[_,z,de]),e.jsxs("div",{className:`flex w-full h-full overflow-hidden font-sans ${r.BACKGROUND} ${r.TEXT_PRIMARY} selection:bg-indigo-200 dark:selection:bg-indigo-900`,children:[e.jsx("style",{children:".no-scrollbar::-webkit-scrollbar { display: none; } .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }"}),y.enabled&&_!=="eco"&&_!=="special"&&_!=="off-hours"&&e.jsx("div",{className:"absolute top-5 right-8 z-30",children:e.jsx(W,{fallback:e.jsx("div",{className:"bg-white/80 backdrop-blur px-3 py-2 rounded-xl text-xs font-bold text-slate-500 border border-slate-200 shadow-sm",children:"å¤©æ°£è³‡è¨Šç„¡æ³•è¼‰å…¥"}),children:e.jsx(Sa,{weatherConfig:y})})}),J&&_!=="eco"&&_!=="off-hours"&&e.jsx(W,{children:e.jsx(_a,{now:q,schedule:o,activeTimeSlots:ot,currentSlot:F,nextSlot:ie,is24Hour:i,dayTypes:j,isGlobalZhuyin:n})}),e.jsxs("div",{className:"flex-1 flex flex-col relative transition-all duration-500",children:[z?.mode==="marquee"&&e.jsx(W,{children:e.jsx(Ra,{message:z.message,sub:z.sub,color:z.color,isGlobalZhuyin:n,showZhuyin:z.showZhuyin,onClose:()=>{H(null),de.cancel()}})}),(_==="break"||_==="pre-bell")&&e.jsx(va,{statusMode:_,currentSlot:F,now:q,is24Hour:i,progress:rt,secondsRemaining:nt,nextSubjectName:ze(),systemHint:bt(),teacherMessage:R,setIsEditingMessage:w,dismissedNap:oe,setDismissedNap:Ae,isGlobalZhuyin:n}),_==="class"&&e.jsx(ga,{schedule:o,now:q,currentSlot:F,isGlobalZhuyin:n}),_==="eco"&&e.jsx(wa,{now:q,schedule:o,currentSlot:F,is24Hour:i,onWake:()=>{je(!1),Re(!0)},weatherConfig:y}),_==="off-hours"&&e.jsx(Ta,{now:q,is24Hour:i,weatherConfig:y}),_==="special"&&z?.mode!=="marquee"&&e.jsx($a,{specialStatus:z,onClose:()=>H(null),now:q,is24Hour:i,subjectHints:u,isSystemSoundEnabled:ee,isGlobalZhuyin:n}),e.jsx(Ca,{statusMode:_,setSpecialStatus:H,setIsManualEco:je,isFullscreen:ct,toggleFullScreen:xt,setShowSettings:C,isAutoNapActive:ht,onBroadcastClick:gt,visibleButtons:v,setShowTools:L,theme:t,cycleTheme:s,showSidebar:J,toggleSidebar:ft,isSystemSoundEnabled:ee,toggleSystemSound:jt,customPresets:k,onCustomBroadcast:pt})]}),e.jsx(Da,{isOpen:S,onClose:kt,timeSlots:l,setTimeSlots:a,schedule:o,setSchedule:b,subjectHints:u,setSubjectHints:p,dayTypes:j,setDayTypes:h,timeOffset:le,setTimeOffset:re,setIsManualEco:je,setIsAutoEcoOverride:Re,is24Hour:i,setIs24Hour:f,visibleButtons:v,setVisibleButtons:N,systemButtonsConfig:ae,weatherConfig:y,setWeatherConfig:E,setCustomPresets:M,customPresets:k,now:S?q:null,defaultValues:{TIME_SLOTS:Oe,SCHEDULE:Ue,SUBJECT_HINTS:Pe,DAY_TYPES:Xe}}),e.jsx(ua,{isOpen:B,onClose:yt,onOpenTool:T=>ce(T,!0)}),e.jsx(W,{children:e.jsx(Pt,{isOpen:ve.timer,onClose:()=>ce("timer",!1)})}),e.jsx(W,{children:e.jsx(Yt,{isOpen:ve.sound,onClose:()=>ce("sound",!1)})}),e.jsx(W,{children:e.jsx(Ht,{isOpen:ve.lottery,onClose:()=>ce("lottery",!1),classes:d,defaultClassId:c,attendanceStatus:vt})}),e.jsx(ba,{isOpen:Q,onClose:Nt,onConfirm:ke,customPresets:k,setCustomPresets:M}),e.jsx(pa,{isOpen:g,onClose:wt,message:R,setMessage:A})]})};export{Xa as default};
